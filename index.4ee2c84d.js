function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i={},t={},l=n.parcelRequired7c6;null==l&&((l=function(e){if(e in i)return i[e].exports;if(e in t){var n=t[e];delete t[e];var l={id:e,exports:{}};return i[e]=l,n.call(l.exports,l,l.exports),l.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,n){t[e]=n},n.parcelRequired7c6=l);var r,a={};a=function(e){var n=typeof e;return null!=e&&("object"==n||"function"==n)};var s,o={},c={};s="object"==typeof n&&n&&n.Object===Object&&n;var p="object"==typeof self&&self&&self.Object===Object&&self,d=s||p||Function("return this")();o=function(){return c.Date.now()};var y={},u={},f={},v=/\s/;f=function(e){for(var n=e.length;n--&&v.test(e.charAt(n)););return n};var m=/^\s+/;u=function(e){return e?e.slice(0,f(e)+1).replace(m,""):e};var g,$={},T={};g=(c=d).Symbol;var L={},M=Object.prototype,x=M.hasOwnProperty,b=M.toString,h=g?g.toStringTag:void 0;L=function(e){var n=x.call(e,h),i=e[h];try{e[h]=void 0;var t=!0}catch(e){}var l=b.call(e);return t&&(n?e[h]=i:delete e[h]),l};var H={},S=Object.prototype.toString;H=function(e){return S.call(e)};var E=g?g.toStringTag:void 0;T=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":E&&E in Object(e)?L(e):H(e)};var w={};w=function(e){return null!=e&&"object"==typeof e};$=function(e){return"symbol"==typeof e||w(e)&&"[object Symbol]"==T(e)};var q=/^[-+]0x[0-9a-f]+$/i,k=/^0b[01]+$/i,j=/^0o[0-7]+$/i,O=parseInt;y=function(e){if("number"==typeof e)return e;if($(e))return NaN;if(a(e)){var n="function"==typeof e.valueOf?e.valueOf():e;e=a(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=u(e);var i=k.test(e);return i||j.test(e)?O(e.slice(2),i?2:8):q.test(e)?NaN:+e};var _=Math.max,G=Math.min;r=function(e,n,i){var t,l,r,s,c,p,d=0,u=!1,f=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function m(n){var i=t,r=l;return t=l=void 0,d=n,s=e.apply(r,i)}function g(e){return d=e,c=setTimeout(T,n),u?m(e):s}function $(e){var i=e-p;return void 0===p||i>=n||i<0||f&&e-d>=r}function T(){var e=o();if($(e))return L(e);c=setTimeout(T,function(e){var i=n-(e-p);return f?G(i,r-(e-d)):i}(e))}function L(e){return c=void 0,v&&t?m(e):(t=l=void 0,s)}function M(){var e=o(),i=$(e);if(t=arguments,l=this,p=e,i){if(void 0===c)return g(p);if(f)return clearTimeout(c),c=setTimeout(T,n),m(p)}return void 0===c&&(c=setTimeout(T,n)),s}return n=y(n)||0,a(i)&&(u=!!i.leading,r=(f="maxWait"in i)?_(y(i.maxWait)||0,n):r,v="trailing"in i?!!i.trailing:v),M.cancel=function(){void 0!==c&&clearTimeout(c),d=0,t=p=l=c=void 0},M.flush=function(){return void 0===c?s:L(o())},M};var N=l("gmOeB"),A=l("1koGM"),D=(N=l("gmOeB"),l("2Ea8k"));const F={gallery:document.querySelector(".gallery")};async function B(e){F.gallery.insertAdjacentHTML("beforeend",await U(e))}async function U(e){let n=e.map((async({id:e,title:n,name:i,release_date:t,genre_ids:l,poster_path:r})=>{const a=`https://image.tmdb.org/t/p/w500${r}`,s="https://image.tmdb.org/t/p/w500/AcKVlWaNVVVFQwro3nLXqPljcYA.jpg",o=await(0,D.default)(l);let c;if(o.length>3)return void(c=`${o.slice(0,3).join(", ")}, ...other`);c=o.join(", ");return`<li class="card-item" id="${e}">\n        <a class="card-link" id="${e}" href="${null!==r?a:s}">\n        <img class="card__image" id="${e}" src="${null!==r?a:s}" alt="${n}">\n        <div class="card-discr">\n        <p class="card-title" id="${e}">${n||i}</p>\n        <ul class="box">\n            <li class="card-genres" id="${e}">${c||"Unknown"}</li>\n            <li class="card-data" id="${e}">${t?t.slice(0,4):"Unknown"}</li>\n        </ul>\n        </div>\n        </a>    \n    </li>`}));return n=await Promise.all(n),n=n.join(""),n}A=l("1koGM");var V=l("8G1wF");const C=document.querySelector("[data-action-previous]"),P=document.querySelector("[data-action-first]"),R=document.querySelector("[data-action-second]"),Y=document.querySelector("[data-action-third]"),I=document.querySelector(".left-wing-dots");P.style.display="none",I.style.display="none";const K=document.querySelector("[data-action-last-third]"),W=document.querySelector("[data-action-last-second]"),z=document.querySelector("[data-action-last]"),Q=document.querySelector("[data-action-last] > p"),X=document.querySelector("[data-action-next]"),J=document.querySelector(".right-wing-dots"),Z=document.querySelector(".pages-container"),ee=new(0,N.default),ne=document.querySelector(".gallery");let ie=1,te=null;function le(e,n){let i="";return 1===e?(i=`<div class="current-page"><p>${e}</p></div>`,C.style.display="none",P.style.display="none",X.style.display="inline-flex",z.style.display="inline-flex",R.style.display="none",Y.style.display="none",K.style.display="inline-flex",W.style.display="inline-flex",K.innerHTML=`<p>${e+1}</p>`,W.innerHTML=`<p>${e+2}</p>`,I.style.display="none",J.style.display="inline-block"):2===e?(i=`<div class="current-page"><p>${e}</p></div>`,ce(),R.style.display="none",Y.style.display="none",K.style.display="inline-flex",W.style.display="inline-flex",K.innerHTML=`<p>${e+1}</p>`,W.innerHTML=`<p>${e+2}</p>`,I.style.display="none",J.style.display="inline-block"):3===e?(i=`<div class="current-page"><p>${e}</p></div>`,ce(),R.style.display="none",Y.style.display="inline-flex",R.innerHTML=`<p>${e-2}</p>`,Y.innerHTML=`<p>${e-1}</p>`,K.style.display="inline-flex",W.style.display="inline-flex",K.innerHTML=`<p>${e+1}</p>`,W.innerHTML=`<p>${e+2}</p>`,I.style.display="none",J.style.display="inline-block"):4===e?(i=`<div class="current-page"><p>${e}</p></div>`,ce(),R.style.display="inline-flex",Y.style.display="inline-flex",R.innerHTML=`<p>${e-2}</p>`,Y.innerHTML=`<p>${e-1}</p>`,K.style.display="inline-flex",W.style.display="inline-flex",K.innerHTML=`<p>${e+1}</p>`,W.innerHTML=`<p>${e+2}</p>`,I.style.display="none",J.style.display="inline-block"):e===n?(i=`<div class="current-page"><p>${e}</p></div>`,C.style.display="inline-flex",P.style.display="inline-flex",X.style.display="none",z.style.display="none",R.style.display="inline-flex",Y.style.display="inline-flex",R.innerHTML=`<p>${e-2}</p>`,Y.innerHTML=`<p>${e-1}</p>`,K.style.display="none",W.style.display="none",K.innerHTML=`<p>${e+1}</p>`,W.innerHTML=`<p>${e+2}</p>`,I.style.display="inline-block",J.style.display="none"):e===n-1?(i=`<div class="current-page"><p>${e}</p></div>`,ce(),R.style.display="inline-flex",Y.style.display="inline-flex",R.innerHTML=`<p>${e-2}</p>`,Y.innerHTML=`<p>${e-1}</p>`,K.style.display="none",W.style.display="none",K.innerHTML=`<p>${e+1}</p>`,W.innerHTML=`<p>${e+2}</p>`,I.style.display="inline-block",J.style.display="none"):e===n-2?(i=`<div class="current-page"><p>${e}</p></div>`,ce(),R.style.display="inline-flex",Y.style.display="inline-flex",R.innerHTML=`<p>${e-2}</p>`,Y.innerHTML=`<p>${e-1}</p>`,K.style.display="inline-flex",W.style.display="none",K.innerHTML=`<p>${e+1}</p>`,W.innerHTML=`<p>${e+2}</p>`,I.style.display="inline-block",J.style.display="none"):e===n-3?(i=`<div class="current-page"><p>${e}</p></div>`,ce(),R.style.display="inline-flex",Y.style.display="inline-flex",R.innerHTML=`<p>${e-2}</p>`,Y.innerHTML=`<p>${e-1}</p>`,K.style.display="inline-flex",W.style.display="inline-flex",K.innerHTML=`<p>${e+1}</p>`,W.innerHTML=`<p>${e+2}</p>`,I.style.display="inline-block",J.style.display="none"):(i=`<div class="current-page"><p>${e}</p></div>`,ce(),R.style.display="inline-flex",Y.style.display="inline-flex",R.innerHTML=`<p>${e-2}</p>`,Y.innerHTML=`<p>${e-1}</p>`,K.style.display="inline-flex",W.style.display="inline-flex",K.innerHTML=`<p>${e+1}</p>`,W.innerHTML=`<p>${e+2}</p>`,I.style.display="inline-block",J.style.display="inline-block"),i}const re=(e,n)=>{ie=e,te=n,Z.innerHTML=le(e,n),Q.innerHTML=n};async function ae(e){let n=null;n=ee.query?await ee.moviesBySearch(e):await ee.popularMovies(e);let i=n.results;i=n.results,(0,A.default)(V.STORAGE_KEY_MOVIES,i),re(e,n.total_pages),ne.innerHTML=await U(i)}function se(){ie++,ae(ie)}function oe(){ie--,ae(ie)}function ce(){X.style.display="inline-flex",C.style.display="inline-flex",P.style.display="inline-flex",z.style.display="inline-flex"}ae(ie),X.addEventListener("click",se),C.addEventListener("click",oe),P.addEventListener("click",(function(){ie=1,ae(ie)})),z.addEventListener("click",(function(){ie=te,ae(te)})),Y.addEventListener("click",oe),R.addEventListener("click",(function(){ie-=2,ae(ie)})),K.addEventListener("click",se),W.addEventListener("click",(function(){ie+=2,ae(ie)}));V=l("8G1wF");const pe={errorEl:document.querySelector(".error")};function de(e){pe.errorEl.textContent=e,pe.errorEl.classList.remove("visually-hidden"),setTimeout((()=>{pe.errorEl.classList.add("visually-hidden")}),2e3)}const ye={searchForm:document.querySelector("#search-form"),gallery:document.querySelector(".gallery"),input:document.querySelector(".search_input")};ye.searchForm.addEventListener("submit",(async function(e){e.preventDefault(),ye.gallery.innerHTML="";const n=e.currentTarget.elements.searchQuery.value.trim();if(""===n)return de("Please, enter your search query."),void ae(1);ue.query=n;try{const e=await ue.moviesBySearch(),n=e.results;if(0===n.length)return void de("Search result is not successful. Enter the correct movie name.");re(e.page,e.total_pages),B(n),(0,A.default)(V.STORAGE_KEY_MOVIES,n)}catch(e){console.log(e)}}));const ue=new(0,N.default);ye.input.addEventListener("input",e(r)((function(){if(""===ye.input.value.trim())return ae(1),void de("Please, enter your search query.")}),V.DEBOUNCE_DELAY)),l("6HA5D"),l("gjiCh"),l("glGLq"),l("bTcpz"),l("2Ea8k"),l("cbBSt"),l("8MDAD"),l("m4NlG"),l("gjiCh"),l("1koGM"),l("glGLq"),l("bTcpz");
//# sourceMappingURL=index.4ee2c84d.js.map
