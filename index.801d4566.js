function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},i={},l=n.parcelRequired7c6;null==l&&((l=function(e){if(e in t)return t[e].exports;if(e in i){var n=i[e];delete i[e];var l={id:e,exports:{}};return t[e]=l,n.call(l.exports,l,l.exports),l.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,n){i[e]=n},n.parcelRequired7c6=l);var r,a={};a=function(e){var n=typeof e;return null!=e&&("object"==n||"function"==n)};var s,o={},c={};s="object"==typeof n&&n&&n.Object===Object&&n;var d="object"==typeof self&&self&&self.Object===Object&&self,p=s||d||Function("return this")();o=function(){return c.Date.now()};var y={},u={},f={},v=/\s/;f=function(e){for(var n=e.length;n--&&v.test(e.charAt(n)););return n};var m=/^\s+/;u=function(e){return e?e.slice(0,f(e)+1).replace(m,""):e};var T,g={},M={};T=(c=p).Symbol;var $={},L=Object.prototype,x=L.hasOwnProperty,h=L.toString,E=T?T.toStringTag:void 0;$=function(e){var n=x.call(e,E),t=e[E];try{e[E]=void 0;var i=!0}catch(e){}var l=h.call(e);return i&&(n?e[E]=t:delete e[E]),l};var b={},S=Object.prototype.toString;b=function(e){return S.call(e)};var H=T?T.toStringTag:void 0;M=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":H&&H in Object(e)?$(e):b(e)};var w={};w=function(e){return null!=e&&"object"==typeof e};g=function(e){return"symbol"==typeof e||w(e)&&"[object Symbol]"==M(e)};var q=/^[-+]0x[0-9a-f]+$/i,_=/^0b[01]+$/i,k=/^0o[0-7]+$/i,O=parseInt;y=function(e){if("number"==typeof e)return e;if(g(e))return NaN;if(a(e)){var n="function"==typeof e.valueOf?e.valueOf():e;e=a(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=u(e);var t=_.test(e);return t||k.test(e)?O(e.slice(2),t?2:8):q.test(e)?NaN:+e};var j=Math.max,A=Math.min;r=function(e,n,t){var i,l,r,s,c,d,p=0,u=!1,f=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function m(n){var t=i,r=l;return i=l=void 0,p=n,s=e.apply(r,t)}function T(e){return p=e,c=setTimeout(M,n),u?m(e):s}function g(e){var t=e-d;return void 0===d||t>=n||t<0||f&&e-p>=r}function M(){var e=o();if(g(e))return $(e);c=setTimeout(M,function(e){var t=n-(e-d);return f?A(t,r-(e-p)):t}(e))}function $(e){return c=void 0,v&&i?m(e):(i=l=void 0,s)}function L(){var e=o(),t=g(e);if(i=arguments,l=this,d=e,t){if(void 0===c)return T(d);if(f)return clearTimeout(c),c=setTimeout(M,n),m(d)}return void 0===c&&(c=setTimeout(M,n)),s}return n=y(n)||0,a(t)&&(u=!!t.leading,r=(f="maxWait"in t)?j(y(t.maxWait)||0,n):r,v="trailing"in t?!!t.trailing:v),L.cancel=function(){void 0!==c&&clearTimeout(c),p=0,i=d=l=c=void 0},L.flush=function(){return void 0===c?s:$(o())},L};var G=l("gmOeB"),D=l("1koGM"),N=(G=l("gmOeB"),l("2Ea8k"));const B={gallery:document.querySelector(".gallery")};async function C(e){B.gallery.insertAdjacentHTML("beforeend",await R(e))}async function R(e){let n=e.map((async({id:e,title:n,name:t,release_date:i,genre_ids:l,poster_path:r})=>{const a=`https://image.tmdb.org/t/p/w500${r}`,s="https://image.tmdb.org/t/p/w500/AcKVlWaNVVVFQwro3nLXqPljcYA.jpg",o=await(0,N.default)(l);let c;if(o.length>3)return void(c=`${o.slice(0,3).join(", ")}, ...other`);c=o.join(", ");return`<li class="card-item" id="${e}">\n        <a class="card-link" id="${e}" href="${null!==r?a:s}">\n        <img class="card__image" id="${e}" src="${null!==r?a:s}" alt="${n}">\n        <div class="card-discr">\n        <p class="card-title" id="${e}">${n||t}</p>\n        <ul class="box">\n            <li class="card-genres" id="${e}">${c||"Unknown"}</li>\n            <li class="card-data" id="${e}">${i?i.slice(0,4):"Unknown"}</li>\n        </ul>\n        </div>\n        </a>    \n    </li>`}));return n=await Promise.all(n),n=n.join(""),n}D=l("1koGM");var Y=l("8G1wF");const F=document.querySelector("[data-action-previous]"),K=document.querySelector("[data-action-first]"),V=document.querySelector("[data-action-second]"),I=document.querySelector("[data-action-third]"),U=document.querySelector(".left-wing-dots");K.style.display="none",U.style.display="none";const W=document.querySelector("[data-action-last-third]"),P=document.querySelector("[data-action-last-second]"),z=document.querySelector("[data-action-last]"),Q=document.querySelector("[data-action-last] > p"),J=document.querySelector("[data-action-next]"),X=document.querySelector(".right-wing-dots"),Z=document.querySelector(".pages-container"),ee=new(0,G.default),ne=document.querySelector(".gallery");let te=1,ie=null;function le(e,n){let t="";return 1===e?(t=`<div class="current-page"><p>${e}</p></div>`,F.style.display="none",K.style.display="none",J.style.display="inline-flex",z.style.display="inline-flex",V.style.display="none",I.style.display="none",W.style.display="inline-flex",P.style.display="inline-flex",W.innerHTML=`<p>${e+1}</p>`,P.innerHTML=`<p>${e+2}</p>`,U.style.display="none",X.style.display="inline-block"):2===e?(t=`<div class="current-page"><p>${e}</p></div>`,ce(),V.style.display="none",I.style.display="none",W.style.display="inline-flex",P.style.display="inline-flex",W.innerHTML=`<p>${e+1}</p>`,P.innerHTML=`<p>${e+2}</p>`,U.style.display="none",X.style.display="inline-block"):3===e?(t=`<div class="current-page"><p>${e}</p></div>`,ce(),V.style.display="none",I.style.display="inline-flex",V.innerHTML=`<p>${e-2}</p>`,I.innerHTML=`<p>${e-1}</p>`,W.style.display="inline-flex",P.style.display="inline-flex",W.innerHTML=`<p>${e+1}</p>`,P.innerHTML=`<p>${e+2}</p>`,U.style.display="none",X.style.display="inline-block"):4===e?(t=`<div class="current-page"><p>${e}</p></div>`,ce(),V.style.display="inline-flex",I.style.display="inline-flex",V.innerHTML=`<p>${e-2}</p>`,I.innerHTML=`<p>${e-1}</p>`,W.style.display="inline-flex",P.style.display="inline-flex",W.innerHTML=`<p>${e+1}</p>`,P.innerHTML=`<p>${e+2}</p>`,U.style.display="none",X.style.display="inline-block"):e===n?(t=`<div class="current-page"><p>${e}</p></div>`,F.style.display="inline-flex",K.style.display="inline-flex",J.style.display="none",z.style.display="none",V.style.display="inline-flex",I.style.display="inline-flex",V.innerHTML=`<p>${e-2}</p>`,I.innerHTML=`<p>${e-1}</p>`,W.style.display="none",P.style.display="none",W.innerHTML=`<p>${e+1}</p>`,P.innerHTML=`<p>${e+2}</p>`,U.style.display="inline-block",X.style.display="none"):e===n-1?(t=`<div class="current-page"><p>${e}</p></div>`,ce(),V.style.display="inline-flex",I.style.display="inline-flex",V.innerHTML=`<p>${e-2}</p>`,I.innerHTML=`<p>${e-1}</p>`,W.style.display="none",P.style.display="none",W.innerHTML=`<p>${e+1}</p>`,P.innerHTML=`<p>${e+2}</p>`,U.style.display="inline-block",X.style.display="none"):e===n-2?(t=`<div class="current-page"><p>${e}</p></div>`,ce(),V.style.display="inline-flex",I.style.display="inline-flex",V.innerHTML=`<p>${e-2}</p>`,I.innerHTML=`<p>${e-1}</p>`,W.style.display="inline-flex",P.style.display="none",W.innerHTML=`<p>${e+1}</p>`,P.innerHTML=`<p>${e+2}</p>`,U.style.display="inline-block",X.style.display="none"):e===n-3?(t=`<div class="current-page"><p>${e}</p></div>`,ce(),V.style.display="inline-flex",I.style.display="inline-flex",V.innerHTML=`<p>${e-2}</p>`,I.innerHTML=`<p>${e-1}</p>`,W.style.display="inline-flex",P.style.display="inline-flex",W.innerHTML=`<p>${e+1}</p>`,P.innerHTML=`<p>${e+2}</p>`,U.style.display="inline-block",X.style.display="none"):(t=`<div class="current-page"><p>${e}</p></div>`,ce(),V.style.display="inline-flex",I.style.display="inline-flex",V.innerHTML=`<p>${e-2}</p>`,I.innerHTML=`<p>${e-1}</p>`,W.style.display="inline-flex",P.style.display="inline-flex",W.innerHTML=`<p>${e+1}</p>`,P.innerHTML=`<p>${e+2}</p>`,U.style.display="inline-block",X.style.display="inline-block"),t}const re=(e,n)=>{te=e,ie=n,Z.innerHTML=le(e,n),Q.innerHTML=n};async function ae(e){let n=null;n=ee.query?await ee.moviesBySearch(e):await ee.popularMovies(e);let t=n.results;t=n.results,(0,D.default)(Y.STORAGE_KEY_MOVIES,t),re(e,n.total_pages),ne.innerHTML=await R(t)}function se(){te++,ae(te)}function oe(){te--,ae(te)}function ce(){J.style.display="inline-flex",F.style.display="inline-flex",K.style.display="inline-flex",z.style.display="inline-flex"}ae(te),J.addEventListener("click",se),F.addEventListener("click",oe),K.addEventListener("click",(function(){te=1,ae(te)})),z.addEventListener("click",(function(){te=ie,ae(ie)})),I.addEventListener("click",oe),V.addEventListener("click",(function(){te-=2,ae(te)})),W.addEventListener("click",se),P.addEventListener("click",(function(){te+=2,ae(te)}));Y=l("8G1wF");const de={errorEl:document.querySelector(".error")};function pe(e){de.errorEl.textContent=e,de.errorEl.classList.remove("visually-hidden"),setTimeout((()=>{de.errorEl.classList.add("visually-hidden")}),2e3)}const ye={searchForm:document.querySelector("#search-form"),gallery:document.querySelector(".gallery"),input:document.querySelector(".search_input")};ye.searchForm.addEventListener("submit",(async function(e){e.preventDefault(),ye.gallery.innerHTML="";const n=e.currentTarget.elements.searchQuery.value.trim();if(""===n)return pe("Please, enter your search query."),void ae(1);ue.query=n;try{const e=await ue.moviesBySearch(),n=e.results;if(0===n.length)return void pe("Search result is not successful. Enter the correct movie name.");re(e.page,e.total_pages),C(n),(0,D.default)(Y.STORAGE_KEY_MOVIES,n)}catch(e){console.log(e)}ue.query=""}));const ue=new(0,G.default);ye.input.addEventListener("input",e(r)((function(){if(""===ye.input.value.trim())return ae(1),void pe("Please, enter your search query.")}),Y.DEBOUNCE_DELAY)),l("6HA5D"),l("gjiCh"),l("glGLq"),l("bTcpz"),l("2Ea8k"),l("cbBSt"),l("8MDAD"),l("m4NlG"),l("gjiCh"),l("1koGM"),l("glGLq"),l("bTcpz");Y=l("8G1wF");var fe=l("cbBSt"),ve=l("8MDAD");D=l("1koGM");const me={watchedModal:document.querySelector("#watchedModalBtn"),queueModal:document.querySelector("#queueModalBtn")};me.watchedModal.addEventListener("click",(function(){me.watchedModal.classList.add("is-active__Btn");let e=[],n=(0,fe.default)(Y.STORAGE_KEY_MOVIEID);const t=(0,ve.default)(Y.STORAGE_KEY_MOVIES,n);(0,fe.default)(Y.STORAGE_KEY_WATCHED)&&(e=(0,fe.default)(Y.STORAGE_KEY_WATCHED));e.push(t),(0,D.default)(Y.STORAGE_KEY_WATCHED,JSON.stringify(e)),me.watchedModal.textContent="remove from watched",console.log(e)}));
//# sourceMappingURL=index.801d4566.js.map
