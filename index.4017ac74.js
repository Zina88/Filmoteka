!function(){function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},i=n.parcelRequired7c6;null==i&&((i=function(e){if(e in t)return t[e].exports;if(e in r){var n=r[e];delete r[e];var i={id:e,exports:{}};return t[e]=i,n.call(i.exports,i,i.exports),i.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,n){r[e]=n},n.parcelRequired7c6=i);var a,l=i("bpxeT"),c=i("2TvXO"),o={},s=i("l5bVx");o=function(n){var t=void 0===n?"undefined":e(s)(n);return null!=n&&("object"==t||"function"==t)};var d,p={},u={};d="object"==typeof n&&n&&n.Object===Object&&n;var y="object"==typeof self&&self&&self.Object===Object&&self,f=d||y||Function("return this")();u=f;p=function(){return u.Date.now()};var v={},x={},T={},m=/\s/;T=function(e){for(var n=e.length;n--&&m.test(e.charAt(n)););return n};var g=/^\s+/;x=function(e){return e?e.slice(0,T(e)+1).replace(g,""):e};var h,b={},L=(s=i("l5bVx"),{});h=u.Symbol;var M={},S=Object.prototype,E=S.hasOwnProperty,H=S.toString,k=h?h.toStringTag:void 0;M=function(e){var n=E.call(e,k),t=e[k];try{e[k]=void 0;var r=!0}catch(e){}var i=H.call(e);return r&&(n?e[k]=t:delete e[k]),i};var w={},O=Object.prototype.toString;w=function(e){return O.call(e)};var q=h?h.toStringTag:void 0;L=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":q&&q in Object(e)?M(e):w(e)};var j={};j=function(e){return null!=e&&"object"==typeof e};b=function(n){return"symbol"==(void 0===n?"undefined":e(s)(n))||j(n)&&"[object Symbol]"==L(n)};var _=/^[-+]0x[0-9a-f]+$/i,A=/^0b[01]+$/i,C=/^0o[0-7]+$/i,W=parseInt;v=function(e){if("number"==typeof e)return e;if(b(e))return NaN;if(o(e)){var n="function"==typeof e.valueOf?e.valueOf():e;e=o(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=x(e);var t=A.test(e);return t||C.test(e)?W(e.slice(2),t?2:8):_.test(e)?NaN:+e};var V=Math.max,N=Math.min;a=function(e,n,t){var r,i,a,l,c,s,d=0,u=!1,y=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function x(n){var t=r,a=i;return r=i=void 0,d=n,l=e.apply(a,t)}function T(e){return d=e,c=setTimeout(g,n),u?x(e):l}function m(e){var t=e-s;return void 0===s||t>=n||t<0||y&&e-d>=a}function g(){var e=p();if(m(e))return h(e);c=setTimeout(g,function(e){var t=n-(e-s);return y?N(t,a-(e-d)):t}(e))}function h(e){return c=void 0,f&&r?x(e):(r=i=void 0,l)}function b(){var e=p(),t=m(e);if(r=arguments,i=this,s=e,t){if(void 0===c)return T(s);if(y)return clearTimeout(c),c=setTimeout(g,n),x(s)}return void 0===c&&(c=setTimeout(g,n)),l}return n=v(n)||0,o(t)&&(u=!!t.leading,a=(y="maxWait"in t)?V(v(t.maxWait)||0,n):a,f="trailing"in t?!!t.trailing:f),b.cancel=function(){void 0!==c&&clearTimeout(c),d=0,r=s=i=c=void 0},b.flush=function(){return void 0===c?l:h(p())},b};var I=i("6Y6JA"),R=i("7ra6p"),Y=(i("bpxeT"),i("2TvXO"),I=i("6Y6JA"),l=i("bpxeT"),c=i("2TvXO"),i("daCfg")),K={gallery:document.querySelector(".gallery")};function J(e){return B.apply(this,arguments)}function B(){return(B=e(l)(e(c).mark((function n(t){return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=K.gallery,e.next=3,D(t);case 3:e.t1=e.sent,e.t0.insertAdjacentHTML.call(e.t0,"beforeend",e.t1);case 5:case"end":return e.stop()}}),n)})))).apply(this,arguments)}function D(e){return F.apply(this,arguments)}function F(){return F=e(l)(e(c).mark((function n(t){var r;return e(c).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.map(function(){var n=e(l)(e(c).mark((function n(t){var r,i,a,l,o,s,d,p,u,y,f;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,i=t.title,a=t.name,l=t.release_date,o=t.genre_ids,s=t.poster_path,d="https://image.tmdb.org/t/p/w500".concat(s),p="https://image.tmdb.org/t/p/w500/AcKVlWaNVVVFQwro3nLXqPljcYA.jpg",e.next=5,(0,Y.default)(o);case 5:if(!((u=e.sent).length>3)){e.next=10;break}return y="".concat(u.slice(0,3).join(", "),", ...other"),e.abrupt("return");case 10:return y=u.join(", "),f='<li class="card-item" id="'.concat(r,'">\n        <a class="card-link" id="').concat(r,'" href="').concat(null!==s?d:p,'">\n        <img class="card__image" id="').concat(r,'" src="').concat(null!==s?d:p,'" alt="').concat(i,'">\n        <div class="card-discr">\n        <p class="card-title" id="').concat(r,'">').concat(i||a,'</p>\n        <ul class="box">\n            <li class="card-genres" id="').concat(r,'">').concat(y||"Unknown",'</li>\n            <li class="card-data" id="').concat(r,'">').concat(l?l.slice(0,4):"Unknown","</li>\n        </ul>\n        </div>\n        </a>    \n    </li>"),e.abrupt("return",f);case 13:case"end":return e.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()),n.next=3,Promise.all(r);case 3:return r=(r=n.sent).join(""),n.abrupt("return",r);case 6:case"end":return n.stop()}}),n)}))),F.apply(this,arguments)}R=i("7ra6p");var U=i("4s6iC"),G=document.querySelector("[data-action-previous]"),P=document.querySelector("[data-action-first]"),X=document.querySelector("[data-action-second]"),Q=document.querySelector("[data-action-third]"),$=document.querySelector(".left-wing-dots");P.style.display="none",$.style.display="none";var Z=document.querySelector("[data-action-last-third]"),z=document.querySelector("[data-action-last-second]"),ee=document.querySelector("[data-action-last]"),ne=document.querySelector("[data-action-last] > p"),te=document.querySelector("[data-action-next]"),re=document.querySelector(".right-wing-dots"),ie=document.querySelector(".pages-container"),ae=new(0,I.default),le=document.querySelector(".gallery"),ce=1,oe=null;function se(e,n){var t="";return 1===e?(t='<div class="current-page"><p>'.concat(e,"</p></div>"),G.style.display="none",P.style.display="none",te.style.display="inline-flex",ee.style.display="inline-flex",X.style.display="none",Q.style.display="none",Z.style.display="inline-flex",z.style.display="inline-flex",Z.innerHTML="<p>".concat(e+1,"</p>"),z.innerHTML="<p>".concat(e+2,"</p>"),$.style.display="none",re.style.display="inline-block"):2===e?(t='<div class="current-page"><p>'.concat(e,"</p></div>"),ve(),X.style.display="none",Q.style.display="none",Z.style.display="inline-flex",z.style.display="inline-flex",Z.innerHTML="<p>".concat(e+1,"</p>"),z.innerHTML="<p>".concat(e+2,"</p>"),$.style.display="none",re.style.display="inline-block"):3===e?(t='<div class="current-page"><p>'.concat(e,"</p></div>"),ve(),X.style.display="none",Q.style.display="inline-flex",X.innerHTML="<p>".concat(e-2,"</p>"),Q.innerHTML="<p>".concat(e-1,"</p>"),Z.style.display="inline-flex",z.style.display="inline-flex",Z.innerHTML="<p>".concat(e+1,"</p>"),z.innerHTML="<p>".concat(e+2,"</p>"),$.style.display="none",re.style.display="inline-block"):4===e?(t='<div class="current-page"><p>'.concat(e,"</p></div>"),ve(),X.style.display="inline-flex",Q.style.display="inline-flex",X.innerHTML="<p>".concat(e-2,"</p>"),Q.innerHTML="<p>".concat(e-1,"</p>"),Z.style.display="inline-flex",z.style.display="inline-flex",Z.innerHTML="<p>".concat(e+1,"</p>"),z.innerHTML="<p>".concat(e+2,"</p>"),$.style.display="none",re.style.display="inline-block"):e===n?(t='<div class="current-page"><p>'.concat(e,"</p></div>"),G.style.display="inline-flex",P.style.display="inline-flex",te.style.display="none",ee.style.display="none",X.style.display="inline-flex",Q.style.display="inline-flex",X.innerHTML="<p>".concat(e-2,"</p>"),Q.innerHTML="<p>".concat(e-1,"</p>"),Z.style.display="none",z.style.display="none",Z.innerHTML="<p>".concat(e+1,"</p>"),z.innerHTML="<p>".concat(e+2,"</p>"),$.style.display="inline-block",re.style.display="none"):e===n-1?(t='<div class="current-page"><p>'.concat(e,"</p></div>"),ve(),X.style.display="inline-flex",Q.style.display="inline-flex",X.innerHTML="<p>".concat(e-2,"</p>"),Q.innerHTML="<p>".concat(e-1,"</p>"),Z.style.display="none",z.style.display="none",Z.innerHTML="<p>".concat(e+1,"</p>"),z.innerHTML="<p>".concat(e+2,"</p>"),$.style.display="inline-block",re.style.display="none"):e===n-2?(t='<div class="current-page"><p>'.concat(e,"</p></div>"),ve(),X.style.display="inline-flex",Q.style.display="inline-flex",X.innerHTML="<p>".concat(e-2,"</p>"),Q.innerHTML="<p>".concat(e-1,"</p>"),Z.style.display="inline-flex",z.style.display="none",Z.innerHTML="<p>".concat(e+1,"</p>"),z.innerHTML="<p>".concat(e+2,"</p>"),$.style.display="inline-block",re.style.display="none"):e===n-3?(t='<div class="current-page"><p>'.concat(e,"</p></div>"),ve(),X.style.display="inline-flex",Q.style.display="inline-flex",X.innerHTML="<p>".concat(e-2,"</p>"),Q.innerHTML="<p>".concat(e-1,"</p>"),Z.style.display="inline-flex",z.style.display="inline-flex",Z.innerHTML="<p>".concat(e+1,"</p>"),z.innerHTML="<p>".concat(e+2,"</p>"),$.style.display="inline-block",re.style.display="none"):(t='<div class="current-page"><p>'.concat(e,"</p></div>"),ve(),X.style.display="inline-flex",Q.style.display="inline-flex",X.innerHTML="<p>".concat(e-2,"</p>"),Q.innerHTML="<p>".concat(e-1,"</p>"),Z.style.display="inline-flex",z.style.display="inline-flex",Z.innerHTML="<p>".concat(e+1,"</p>"),z.innerHTML="<p>".concat(e+2,"</p>"),$.style.display="inline-block",re.style.display="inline-block"),t}var de=function(e,n){ce=e,oe=n,ie.innerHTML=se(e,n),ne.innerHTML=n};function pe(e){return ue.apply(this,arguments)}function ue(){return(ue=e(l)(e(c).mark((function n(t){var r,i;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=null,!ae.query){e.next=7;break}return e.next=4,ae.moviesBySearch(t);case 4:r=e.sent,e.next=10;break;case 7:return e.next=9,ae.popularMovies(t);case 9:r=e.sent;case 10:return r.results,i=r.results,(0,R.default)(U.STORAGE_KEY_MOVIES,i),de(t,r.total_pages),e.next=16,D(i);case 16:le.innerHTML=e.sent;case 17:case"end":return e.stop()}}),n)})))).apply(this,arguments)}function ye(){pe(++ce)}function fe(){pe(--ce)}function ve(){te.style.display="inline-flex",G.style.display="inline-flex",P.style.display="inline-flex",ee.style.display="inline-flex"}pe(ce),te.addEventListener("click",ye),G.addEventListener("click",fe),P.addEventListener("click",(function(){pe(ce=1)})),ee.addEventListener("click",(function(){ce=oe,pe(oe)})),Q.addEventListener("click",fe),X.addEventListener("click",(function(){pe(ce-=2)})),Z.addEventListener("click",ye),z.addEventListener("click",(function(){pe(ce+=2)}));U=i("4s6iC");var xe={errorEl:document.querySelector(".error")};function Te(e){xe.errorEl.textContent=e,xe.errorEl.classList.remove("visually-hidden"),setTimeout((function(){xe.errorEl.classList.add("visually-hidden")}),2e3)}var me={searchForm:document.querySelector("#search-form"),gallery:document.querySelector(".gallery"),input:document.querySelector(".search_input")};me.searchForm.addEventListener("submit",(function(e){return he.apply(this,arguments)}));var ge=new(0,I.default);function he(){return(he=e(l)(e(c).mark((function n(t){var r,i,a;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),me.gallery.innerHTML="",""!==(r=t.currentTarget.elements.searchQuery.value.trim())){e.next=7;break}return Te("Please, enter your search query."),pe(1),e.abrupt("return");case 7:return ge.query=r,e.prev=8,e.next=11,ge.moviesBySearch();case 11:if(i=e.sent,0!==(a=i.results).length){e.next=16;break}return Te("Search result is not successful. Enter the correct movie name."),e.abrupt("return");case 16:de(i.page,i.total_pages),J(a),(0,R.default)(U.STORAGE_KEY_MOVIES,a),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(8),console.log(e.t0);case 24:ge.query="";case 25:case"end":return e.stop()}}),n,null,[[8,21]])})))).apply(this,arguments)}me.input.addEventListener("input",e(a)((function(){if(""===me.input.value.trim())return pe(1),void Te("Please, enter your search query.")}),U.DEBOUNCE_DELAY)),i("4F07H"),i("kvC6y"),i("3ytLt"),i("5xtVg"),i("daCfg"),i("jOfKZ"),i("bj0Jt"),i("jMqpj"),i("kvC6y"),i("7ra6p"),i("3ytLt"),i("5xtVg");U=i("4s6iC");var be=i("jOfKZ"),Le=i("bj0Jt");i("7ra6p");var Me={addToWatch:document.querySelector("#watchedModalBtn"),addToQueue:document.querySelector("#queueModalBtn")};Me.addToWatch.addEventListener("click",(function(e){Me.addToWatch.classList.add("is-active__Btn"),console.dir(e.currentTarget),Se=(0,be.default)(U.STORAGE_KEY_MOVIE),(0,Le.default)(U.STORAGE_KEY_MOVIES,Se),void(Ee.includes(n)?(console.log("уже есть в просмотренных"),Me.addToWatch.textContent="Remove from watched"):(console.log("нет такого в просмотренных"),Me.addToWatch.textContent="Add to watched",console.log(Se),Ee.push(Se),localStorage.setItem("arrayAddToWatch",JSON.stringify(Ee)),console.log(Ee),Me.addToWatch.textContent="Remove from watched")),"Remove from watched"===Me.addToWatch.textContent&&(t=Ee.indexOf(Se),Ee.slice(t,1),localStorage.setItem("arrayAddToWatch",JSON.stringify(Ee)));var n;var t}));(0,be.default)(U.STORAGE_KEY_MOVIES);var Se="",Ee=[];null!==localStorage.getItem("arrayAddToWatch")&&(Ee=localStorage.getItem("arrayAddToWatch"),Ee=JSON.parse(Ee)),console.log(Ee)}();
//# sourceMappingURL=index.4017ac74.js.map
