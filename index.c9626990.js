function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},i={},l=n.parcelRequired7c6;null==l&&((l=function(e){if(e in t)return t[e].exports;if(e in i){var n=i[e];delete i[e];var l={id:e,exports:{}};return t[e]=l,n.call(l.exports,l,l.exports),l.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,n){i[e]=n},n.parcelRequired7c6=l);var r,a={};a=function(e){var n=typeof e;return null!=e&&("object"==n||"function"==n)};var s,o={},c={};s="object"==typeof n&&n&&n.Object===Object&&n;var d="object"==typeof self&&self&&self.Object===Object&&self,p=s||d||Function("return this")();o=function(){return c.Date.now()};var u={},y={},f={},v=/\s/;f=function(e){for(var n=e.length;n--&&v.test(e.charAt(n)););return n};var m=/^\s+/;y=function(e){return e?e.slice(0,f(e)+1).replace(m,""):e};var g,L={},M={};g=(c=p).Symbol;var $={},T=Object.prototype,x=T.hasOwnProperty,h=T.toString,b=g?g.toStringTag:void 0;$=function(e){var n=x.call(e,b),t=e[b];try{e[b]=void 0;var i=!0}catch(e){}var l=h.call(e);return i&&(n?e[b]=t:delete e[b]),l};var H={},q=Object.prototype.toString;H=function(e){return q.call(e)};var w=g?g.toStringTag:void 0;M=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":w&&w in Object(e)?$(e):H(e)};var S={};S=function(e){return null!=e&&"object"==typeof e};L=function(e){return"symbol"==typeof e||S(e)&&"[object Symbol]"==M(e)};var E=/^[-+]0x[0-9a-f]+$/i,k=/^0b[01]+$/i,j=/^0o[0-7]+$/i,_=parseInt;u=function(e){if("number"==typeof e)return e;if(L(e))return NaN;if(a(e)){var n="function"==typeof e.valueOf?e.valueOf():e;e=a(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=y(e);var t=k.test(e);return t||j.test(e)?_(e.slice(2),t?2:8):E.test(e)?NaN:+e};var O=Math.max,B=Math.min;r=function(e,n,t){var i,l,r,s,c,d,p=0,y=!1,f=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function m(n){var t=i,r=l;return i=l=void 0,p=n,s=e.apply(r,t)}function g(e){return p=e,c=setTimeout(M,n),y?m(e):s}function L(e){var t=e-d;return void 0===d||t>=n||t<0||f&&e-p>=r}function M(){var e=o();if(L(e))return $(e);c=setTimeout(M,function(e){var t=n-(e-d);return f?B(t,r-(e-p)):t}(e))}function $(e){return c=void 0,v&&i?m(e):(i=l=void 0,s)}function T(){var e=o(),t=L(e);if(i=arguments,l=this,d=e,t){if(void 0===c)return g(d);if(f)return clearTimeout(c),c=setTimeout(M,n),m(d)}return void 0===c&&(c=setTimeout(M,n)),s}return n=u(n)||0,a(t)&&(y=!!t.leading,r=(f="maxWait"in t)?O(u(t.maxWait)||0,n):r,v="trailing"in t?!!t.trailing:v),T.cancel=function(){void 0!==c&&clearTimeout(c),p=0,i=d=l=c=void 0},T.flush=function(){return void 0===c?s:$(o())},T};var G=l("gmOeB"),N=l("1koGM"),A=(G=l("gmOeB"),l("2Ea8k"));const D={gallery:document.querySelector(".gallery")};async function C(e){D.gallery.insertAdjacentHTML("beforeend",await F(e))}async function F(e){let n=e.map((async({id:e,title:n,name:t,release_date:i,genre_ids:l,poster_path:r})=>{const a=`https://image.tmdb.org/t/p/w500${r}`,s="https://image.tmdb.org/t/p/w500/AcKVlWaNVVVFQwro3nLXqPljcYA.jpg",o=await(0,A.default)(l);let c;if(o.length>3)return void(c=`${o.slice(0,3).join(", ")}, ...other`);c=o.join(", ");return`<li class="card-item" id="${e}">\n        <a class="card-link" id="${e}" href="${null!==r?a:s}">\n        <img class="card__image" id="${e}" src="${null!==r?a:s}" alt="${n}">\n        <div class="card-discr">\n        <p class="card-title" id="${e}">${n||t}</p>\n        <ul class="box">\n            <li class="card-genres" id="${e}">${c||"Unknown"}</li>\n            <li class="card-data" id="${e}">${i?i.slice(0,4):"Unknown"}</li>\n        </ul>\n        </div>\n        </a>    \n    </li>`}));return n=await Promise.all(n),n=n.join(""),n}N=l("1koGM");var R=l("8G1wF");const U=document.querySelector("[data-action-previous]"),V=document.querySelector("[data-action-first]"),P=document.querySelector("[data-action-second]"),Y=document.querySelector("[data-action-third]"),I=document.querySelector(".left-wing-dots");V.style.display="none",I.style.display="none";const K=document.querySelector("[data-action-last-third]"),W=document.querySelector("[data-action-last-second]"),z=document.querySelector("[data-action-last]"),Q=document.querySelector("[data-action-last] > p"),X=document.querySelector("[data-action-next]"),J=document.querySelector(".right-wing-dots"),Z=document.querySelector(".pages-container"),ee=new(0,G.default),ne=document.querySelector(".gallery");let te=1,ie=null;function le(e,n){let t="";return 1===e?(t=`<div class="current-page"><p>${e}</p></div>`,U.style.display="none",V.style.display="none",X.style.display="inline-flex",z.style.display="inline-flex",P.style.display="none",Y.style.display="none",K.style.display="inline-flex",W.style.display="inline-flex",K.innerHTML=`<p>${e+1}</p>`,W.innerHTML=`<p>${e+2}</p>`,I.style.display="none",J.style.display="inline-block"):2===e?(t=`<div class="current-page"><p>${e}</p></div>`,ce(),P.style.display="none",Y.style.display="none",K.style.display="inline-flex",W.style.display="inline-flex",K.innerHTML=`<p>${e+1}</p>`,W.innerHTML=`<p>${e+2}</p>`,I.style.display="none",J.style.display="inline-block"):3===e?(t=`<div class="current-page"><p>${e}</p></div>`,ce(),P.style.display="none",Y.style.display="inline-flex",P.innerHTML=`<p>${e-2}</p>`,Y.innerHTML=`<p>${e-1}</p>`,K.style.display="inline-flex",W.style.display="inline-flex",K.innerHTML=`<p>${e+1}</p>`,W.innerHTML=`<p>${e+2}</p>`,I.style.display="none",J.style.display="inline-block"):4===e?(t=`<div class="current-page"><p>${e}</p></div>`,ce(),P.style.display="inline-flex",Y.style.display="inline-flex",P.innerHTML=`<p>${e-2}</p>`,Y.innerHTML=`<p>${e-1}</p>`,K.style.display="inline-flex",W.style.display="inline-flex",K.innerHTML=`<p>${e+1}</p>`,W.innerHTML=`<p>${e+2}</p>`,I.style.display="none",J.style.display="inline-block"):e===n?(t=`<div class="current-page"><p>${e}</p></div>`,U.style.display="inline-flex",V.style.display="inline-flex",X.style.display="none",z.style.display="none",P.style.display="inline-flex",Y.style.display="inline-flex",P.innerHTML=`<p>${e-2}</p>`,Y.innerHTML=`<p>${e-1}</p>`,K.style.display="none",W.style.display="none",K.innerHTML=`<p>${e+1}</p>`,W.innerHTML=`<p>${e+2}</p>`,I.style.display="inline-block",J.style.display="none"):e===n-1?(t=`<div class="current-page"><p>${e}</p></div>`,ce(),P.style.display="inline-flex",Y.style.display="inline-flex",P.innerHTML=`<p>${e-2}</p>`,Y.innerHTML=`<p>${e-1}</p>`,K.style.display="none",W.style.display="none",K.innerHTML=`<p>${e+1}</p>`,W.innerHTML=`<p>${e+2}</p>`,I.style.display="inline-block",J.style.display="none"):e===n-2?(t=`<div class="current-page"><p>${e}</p></div>`,ce(),P.style.display="inline-flex",Y.style.display="inline-flex",P.innerHTML=`<p>${e-2}</p>`,Y.innerHTML=`<p>${e-1}</p>`,K.style.display="inline-flex",W.style.display="none",K.innerHTML=`<p>${e+1}</p>`,W.innerHTML=`<p>${e+2}</p>`,I.style.display="inline-block",J.style.display="none"):e===n-3?(t=`<div class="current-page"><p>${e}</p></div>`,ce(),P.style.display="inline-flex",Y.style.display="inline-flex",P.innerHTML=`<p>${e-2}</p>`,Y.innerHTML=`<p>${e-1}</p>`,K.style.display="inline-flex",W.style.display="inline-flex",K.innerHTML=`<p>${e+1}</p>`,W.innerHTML=`<p>${e+2}</p>`,I.style.display="inline-block",J.style.display="none"):(t=`<div class="current-page"><p>${e}</p></div>`,ce(),P.style.display="inline-flex",Y.style.display="inline-flex",P.innerHTML=`<p>${e-2}</p>`,Y.innerHTML=`<p>${e-1}</p>`,K.style.display="inline-flex",W.style.display="inline-flex",K.innerHTML=`<p>${e+1}</p>`,W.innerHTML=`<p>${e+2}</p>`,I.style.display="inline-block",J.style.display="inline-block"),t}const re=(e,n)=>{te=e,ie=n,Z.innerHTML=le(e,n),Q.innerHTML=n};async function ae(e){let n=null;n=ee.query?await ee.moviesBySearch(e):await ee.popularMovies(e);let t=n.results;t=n.results,(0,N.default)(R.STORAGE_KEY_MOVIES,t),re(e,n.total_pages),ne.innerHTML=await F(t)}function se(){te++,ae(te)}function oe(){te--,ae(te)}function ce(){X.style.display="inline-flex",U.style.display="inline-flex",V.style.display="inline-flex",z.style.display="inline-flex"}ae(te),X.addEventListener("click",se),U.addEventListener("click",oe),V.addEventListener("click",(function(){te=1,ae(te)})),z.addEventListener("click",(function(){te=ie,ae(ie)})),Y.addEventListener("click",oe),P.addEventListener("click",(function(){te-=2,ae(te)})),K.addEventListener("click",se),W.addEventListener("click",(function(){te+=2,ae(te)}));R=l("8G1wF");const de={errorEl:document.querySelector(".error")};function pe(e){de.errorEl.textContent=e,de.errorEl.classList.remove("visually-hidden"),setTimeout((()=>{de.errorEl.classList.add("visually-hidden")}),2e3)}const ue={searchForm:document.querySelector("#search-form"),gallery:document.querySelector(".gallery"),input:document.querySelector(".search_input")};ue.searchForm.addEventListener("submit",(async function(e){e.preventDefault(),ue.gallery.innerHTML="";const n=e.currentTarget.elements.searchQuery.value.trim();if(""===n)return pe("Please, enter your search query."),void ae(1);ye.query=n;try{const e=await ye.moviesBySearch(),n=e.results;if(0===n.length)return void pe("Search result is not successful. Enter the correct movie name.");re(e.page,e.total_pages),C(n),(0,N.default)(R.STORAGE_KEY_MOVIES,n)}catch(e){console.log(e)}ye.query=""}));const ye=new(0,G.default);ue.input.addEventListener("input",e(r)((function(){if(""===ue.input.value.trim())return ae(1),void pe("Please, enter your search query.")}),R.DEBOUNCE_DELAY)),l("6HA5D"),l("gjiCh"),l("glGLq"),l("bTcpz"),l("2Ea8k"),l("cbBSt"),l("8MDAD"),l("m4NlG"),l("gjiCh"),l("1koGM"),l("glGLq"),l("bTcpz");const fe={watchedModal:document.querySelector("#watchedModalBtn"),queueModal:document.querySelector("#queueModalBtn")};fe.watchedModal.addEventListener("click",(function(){fe.watchedModal.classList.toggle("is-active__Btn"),fe.watchedModal.textContent="Remove from watched"})),fe.queueModal.addEventListener("click",(function(){fe.queueModal.classList.toggle("is-active__Btn"),fe.queueModal.textContent="Remove from queue"}));
//# sourceMappingURL=index.c9626990.js.map
