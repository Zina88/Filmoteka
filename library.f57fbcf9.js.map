{"mappings":"klBAAA,IAAAA,EAAAC,EAAA,S,aCAAC,EAAAD,EAAA,SAEe,SAAAE,EAAmCC,GAChD,OAAOA,EACJC,KACD,EACEC,GAAIC,EAAOC,MACXA,EAAKC,KACLA,EACAC,aAAcC,EACdC,UAAWC,EAAcC,YACzBA,MAEA,MAAMC,EAAS,kCAAkCD,IAC3CE,EACJ,kEAEIC,GAAgB,EAAAf,EAAAgB,SAAmBL,GACzC,IAAIM,EACJ,GAAIF,EAAcG,OAAS,EAEzB,YADAD,EAAS,GAAGF,EAAcI,MAAM,EAAG,GAAGC,KAAK,mBAG7CH,EAASF,EAAcK,KAAK,MAsB5B,MArBoB,6BAA6Bf,yCACpBA,YACX,OAAhBO,EAAuBC,EAASC,6CAEDT,WACf,OAAhBO,EAAuBC,EAASC,WACxBR,4EAEoBD,MAAYC,GAAgBC,4EAEtBF,MAClCY,GAAkB,yDAEcZ,MAEhCI,EAAcA,EAAYU,MAAM,EAAG,GAAK,gFASzCC,KAAK,I,8BD1CZ,MAAMC,EAAO,CACXC,eAAgBC,SAASC,cAAc,oBACvCC,eAAgBF,SAASC,cAAc,iBACvCE,WAAYH,SAASC,cAAc,YACnCG,SAAUJ,SAASC,cAAc,WAGnCH,EAAKK,WAAWE,iBAAiB,SAcjC,WACEP,EAAKK,WAAWG,UAAUC,IAAI,aAC9BT,EAAKM,SAASE,UAAUE,OAAO,aAK/B,IAAIC,GAAY,EAAAC,EAAAjB,SAAalB,EAAAoC,qBAC7BC,QAAQC,IAAIJ,GACgB,OAAxBlC,EAAAoC,qBAAqD,IAArBF,EAAUK,OAC5ChB,EAAKI,eAAea,YAClB,iEAEFjB,EAAKI,eAAeI,UAAUC,IAAI,aAClCT,EAAKC,eAAeiB,mBAClB,YACAtC,EAA0B+B,QA7BhCX,EAAKM,SAASC,iBAAiB,SAkC/B,WACEP,EAAKM,SAASE,UAAUC,IAAI,aAC5BT,EAAKK,WAAWG,UAAUE,OAAO,aACjCV,EAAKC,eAAekB,UAAY,IAChC,EAAAC,EAAAC,oBAAmBC,cAEnB,IAAIC,GAAW,EAAAX,EAAAjB,SAAalB,EAAA+C,mBACF,OAAtB/C,EAAA+C,mBAAkD,IAApBD,EAASP,OACzChB,EAAKI,eAAea,YAClB,0DAEFjB,EAAKI,eAAeI,UAAUC,IAAI,aAClCT,EAAKC,eAAeiB,mBAClB,YACAtC,EAA0B2C,QA9ChCE,gBAAiB,EAAAb,EAAAjB,SAAalB,EAAAoC,qBAC9BS,cAAe,EAAAV,EAAAjB,SAAalB,EAAA+C","sources":["src/js/displeyLibrary.js","src/js/markupLibraryCard.js"],"sourcesContent":["import { STORAGE_KEY_WATCHED, STORAGE_KEY_QUEUE } from './constants';\nimport getFromLocal from './getFromLocal';\nimport createMoviesMarkupLibrary from './markupLibraryCard';\nimport { appendMoviesMarkup } from './markupCard';\nimport { createMoviesMarkup } from './markupCard';\n\nconst refs = {\n  libraryGallery: document.querySelector('.gallery-library'),\n  libraryMessage: document.querySelector('.gallery-text'),\n  watchedBtn: document.querySelector('.watched'),\n  queueBtn: document.querySelector('.queue'),\n};\n\nrefs.watchedBtn.addEventListener('click', displeyWatched);\nrefs.queueBtn.addEventListener('click', displeyQueue);\n\nmovieToWatched = getFromLocal(STORAGE_KEY_WATCHED);\nmovieToQueue = getFromLocal(STORAGE_KEY_QUEUE);\n\n// if (movieToWatched !== null) {\n//   displeyWatched();\n//   // refs.watchedBtn.disabled('click');\n// } else {\n//   refs.libraryMessage.textContent =\n//     'Sorry, you have not added any movie to your watched list yet.';\n// }\n\nfunction displeyWatched() {\n  refs.watchedBtn.classList.add('is-active');\n  refs.queueBtn.classList.remove('is-active');\n\n  // refs.libraryGallery.innerHTML = '';\n  // appendMoviesMarkup(movieToWatched);\n\n  let getWathed = getFromLocal(STORAGE_KEY_WATCHED);\n  console.log(getWathed);\n  if (STORAGE_KEY_WATCHED === null || getWathed.lenght === 0) {\n    refs.libraryMessage.textContent =\n      'Sorry, you have not added any movie to your watched list yet.';\n  } else {\n    refs.libraryMessage.classList.add('is-hidden');\n    refs.libraryGallery.insertAdjacentHTML(\n      'beforeend',\n      createMoviesMarkupLibrary(getWathed)\n    );\n  }\n}\n\nfunction displeyQueue() {\n  refs.queueBtn.classList.add('is-active');\n  refs.watchedBtn.classList.remove('is-active');\n  refs.libraryGallery.innerHTML = '';\n  appendMoviesMarkup(movieToQueue);\n\n  let getQueue = getFromLocal(STORAGE_KEY_QUEUE);\n  if (STORAGE_KEY_QUEUE === null || getQueue.lenght === 0) {\n    refs.libraryMessage.textContent =\n      'Sorry, you have not added any movie to your queue yet.';\n  } else {\n    refs.libraryMessage.classList.add('is-hidden');\n    refs.libraryGallery.insertAdjacentHTML(\n      'beforeend',\n      createMoviesMarkupLibrary(getQueue)\n    );\n  }\n}\n","import getGenresFromLocal from './getGenresFromLocal';\n\nexport default function createMoviesMarkupLibrary(movies) {\n  return movies\n    .map(\n    ({\n      id: movieId,\n      title,\n      name,\n      release_date: releaseDate,\n      genre_ids: genresIdsArray,\n      poster_path,\n    }) => {\n      const poster = `https://image.tmdb.org/t/p/w500${poster_path}`;\n      const placeholderImg =\n        'https://image.tmdb.org/t/p/w500/AcKVlWaNVVVFQwro3nLXqPljcYA.jpg';\n\n      const genresOfMovie = getGenresFromLocal(genresIdsArray);\n      let genres;\n      if (genresOfMovie.length > 3) {\n        genres = `${genresOfMovie.slice(0, 3).join(', ')}, ...other`;\n        return;\n      }\n      genres = genresOfMovie.join(', ');\n      const movieMarkup = `<li class=\"card-item\" id=\"${movieId}\">\n        <a class=\"card-link\" id=\"${movieId}\" href=\"${\n        poster_path !== null ? poster : placeholderImg\n      }\">\n        <img class=\"card__image\" id=\"${movieId}\" src=\"${\n        poster_path !== null ? poster : placeholderImg\n      }\" alt=\"${title}\">\n        <div class=\"card-discr\">\n        <p class=\"card-title\" id=\"${movieId}\">${title ? title : name}</p>\n        <ul class=\"box\">\n            <li class=\"card-genres\" id=\"${movieId}\">${\n        genres ? genres : 'Unknown'\n      }</li>\n            <li class=\"card-data\" id=\"${movieId}\">${\n        // releaseDate ? releaseDate.slice(0, 4) : firstDate.slice(0, 4)\n        releaseDate ? releaseDate.slice(0, 4) : 'Unknown'\n      }</li>\n        </ul>\n        </div>\n        </a>    \n    </li>`;\n      return movieMarkup;\n    }\n    )\n      .join('');\n  }"],"names":["$8G1wF","parcelRequire","$2Ea8k","$f4918faf1d6bada0$export$2e2bcd8739ae039","movies","map","id","movieId","title","name","release_date","releaseDate","genre_ids","genresIdsArray","poster_path","poster","placeholderImg","genresOfMovie","default","genres","length","slice","join","$51608ec5bb1b144e$var$refs","libraryGallery","document","querySelector","libraryMessage","watchedBtn","queueBtn","addEventListener","classList","add","remove","getWathed","$cbBSt","STORAGE_KEY_WATCHED","console","log","lenght","textContent","insertAdjacentHTML","innerHTML","$f6zZF","appendMoviesMarkup","movieToQueue","getQueue","STORAGE_KEY_QUEUE","movieToWatched"],"version":3,"file":"library.f57fbcf9.js.map"}