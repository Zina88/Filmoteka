!function(){function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},i={},r=n.parcelRequired7c6;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in i){var n=i[e];delete i[e];var r={id:e,exports:{}};return t[e]=r,n.call(r.exports,r,r.exports),r.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,n){i[e]=n},n.parcelRequired7c6=r);var l,a=r("bpxeT"),c=r("2TvXO"),o={},s=r("l5bVx");o=function(n){var t=void 0===n?"undefined":e(s)(n);return null!=n&&("object"==t||"function"==t)};var u,p={},d={};u="object"==typeof n&&n&&n.Object===Object&&n;var y="object"==typeof self&&self&&self.Object===Object&&self,f=u||y||Function("return this")();d=f;p=function(){return d.Date.now()};var v={},x={},m={},g=/\s/;m=function(e){for(var n=e.length;n--&&g.test(e.charAt(n)););return n};var T=/^\s+/;x=function(e){return e?e.slice(0,m(e)+1).replace(T,""):e};var L,h={},b=(s=r("l5bVx"),{});L=d.Symbol;var M={},H=Object.prototype,k=H.hasOwnProperty,q=H.toString,w=L?L.toStringTag:void 0;M=function(e){var n=k.call(e,w),t=e[w];try{e[w]=void 0;var i=!0}catch(e){}var r=q.call(e);return i&&(n?e[w]=t:delete e[w]),r};var S={},E=Object.prototype.toString;S=function(e){return E.call(e)};var j=L?L.toStringTag:void 0;b=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":j&&j in Object(e)?M(e):S(e)};var O={};O=function(e){return null!=e&&"object"==typeof e};h=function(n){return"symbol"==(void 0===n?"undefined":e(s)(n))||O(n)&&"[object Symbol]"==b(n)};var _=/^[-+]0x[0-9a-f]+$/i,C=/^0b[01]+$/i,V=/^0o[0-7]+$/i,A=parseInt;v=function(e){if("number"==typeof e)return e;if(h(e))return NaN;if(o(e)){var n="function"==typeof e.valueOf?e.valueOf():e;e=o(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=x(e);var t=C.test(e);return t||V.test(e)?A(e.slice(2),t?2:8):_.test(e)?NaN:+e};var N=Math.max,B=Math.min;l=function(e,n,t){var i,r,l,a,c,s,u=0,d=!1,y=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function x(n){var t=i,l=r;return i=r=void 0,u=n,a=e.apply(l,t)}function m(e){return u=e,c=setTimeout(T,n),d?x(e):a}function g(e){var t=e-s;return void 0===s||t>=n||t<0||y&&e-u>=l}function T(){var e=p();if(g(e))return L(e);c=setTimeout(T,function(e){var t=n-(e-s);return y?B(t,l-(e-u)):t}(e))}function L(e){return c=void 0,f&&i?x(e):(i=r=void 0,a)}function h(){var e=p(),t=g(e);if(i=arguments,r=this,s=e,t){if(void 0===c)return m(s);if(y)return clearTimeout(c),c=setTimeout(T,n),x(s)}return void 0===c&&(c=setTimeout(T,n)),a}return n=v(n)||0,o(t)&&(d=!!t.leading,l=(y="maxWait"in t)?N(v(t.maxWait)||0,n):l,f="trailing"in t?!!t.trailing:f),h.cancel=function(){void 0!==c&&clearTimeout(c),u=0,i=s=r=c=void 0},h.flush=function(){return void 0===c?a:L(p())},h};var D=r("6Y6JA"),F=r("7ra6p"),R=(r("bpxeT"),r("2TvXO"),D=r("6Y6JA"),a=r("bpxeT"),c=r("2TvXO"),r("daCfg")),U={gallery:document.querySelector(".gallery")};function Y(e){return P.apply(this,arguments)}function P(){return(P=e(a)(e(c).mark((function n(t){return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=U.gallery,e.next=3,K(t);case 3:e.t1=e.sent,e.t0.insertAdjacentHTML.call(e.t0,"beforeend",e.t1);case 5:case"end":return e.stop()}}),n)})))).apply(this,arguments)}function K(e){return X.apply(this,arguments)}function X(){return X=e(a)(e(c).mark((function n(t){var i;return e(c).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=t.map(function(){var n=e(a)(e(c).mark((function n(t){var i,r,l,a,o,s,u,p,d,y,f;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.id,r=t.title,l=t.name,a=t.release_date,o=t.genre_ids,s=t.poster_path,u="https://image.tmdb.org/t/p/w500".concat(s),p="https://image.tmdb.org/t/p/w500/AcKVlWaNVVVFQwro3nLXqPljcYA.jpg",e.next=5,(0,R.default)(o);case 5:if(!((d=e.sent).length>3)){e.next=10;break}return y="".concat(d.slice(0,3).join(", "),", ...other"),e.abrupt("return");case 10:return y=d.join(", "),f='<li class="card-item" id="'.concat(i,'">\n        <a class="card-link" id="').concat(i,'" href="').concat(null!==s?u:p,'">\n        <img class="card__image" id="').concat(i,'" src="').concat(null!==s?u:p,'" alt="').concat(r,'">\n        <div class="card-discr">\n        <p class="card-title" id="').concat(i,'">').concat(r||l,'</p>\n        <ul class="box">\n            <li class="card-genres" id="').concat(i,'">').concat(y||"Unknown",'</li>\n            <li class="card-data" id="').concat(i,'">').concat(a?a.slice(0,4):"Unknown","</li>\n        </ul>\n        </div>\n        </a>    \n    </li>"),e.abrupt("return",f);case 13:case"end":return e.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()),n.next=3,Promise.all(i);case 3:return i=(i=n.sent).join(""),n.abrupt("return",i);case 6:case"end":return n.stop()}}),n)}))),X.apply(this,arguments)}F=r("7ra6p");var I=r("4s6iC"),J=document.querySelector("[data-action-previous]"),W=document.querySelector("[data-action-first]"),$=document.querySelector("[data-action-second]"),G=document.querySelector("[data-action-third]"),Q=document.querySelector(".left-wing-dots");W.style.display="none",Q.style.display="none";var Z=document.querySelector("[data-action-last-third]"),z=document.querySelector("[data-action-last-second]"),ee=document.querySelector("[data-action-last]"),ne=document.querySelector("[data-action-last] > p"),te=document.querySelector("[data-action-next]"),ie=document.querySelector(".right-wing-dots"),re=document.querySelector(".pages-container"),le=new(0,D.default),ae=document.querySelector(".gallery"),ce=1,oe=null;function se(e,n){var t="";return 1===e?(t='<div class="current-page"><p>'.concat(e,"</p></div>"),J.style.display="none",W.style.display="none",te.style.display="inline-flex",ee.style.display="inline-flex",$.style.display="none",G.style.display="none",Z.style.display="inline-flex",z.style.display="inline-flex",Z.innerHTML="<p>".concat(e+1,"</p>"),z.innerHTML="<p>".concat(e+2,"</p>"),Q.style.display="none",ie.style.display="inline-block"):2===e?(t='<div class="current-page"><p>'.concat(e,"</p></div>"),ve(),$.style.display="none",G.style.display="none",Z.style.display="inline-flex",z.style.display="inline-flex",Z.innerHTML="<p>".concat(e+1,"</p>"),z.innerHTML="<p>".concat(e+2,"</p>"),Q.style.display="none",ie.style.display="inline-block"):3===e?(t='<div class="current-page"><p>'.concat(e,"</p></div>"),ve(),$.style.display="none",G.style.display="inline-flex",$.innerHTML="<p>".concat(e-2,"</p>"),G.innerHTML="<p>".concat(e-1,"</p>"),Z.style.display="inline-flex",z.style.display="inline-flex",Z.innerHTML="<p>".concat(e+1,"</p>"),z.innerHTML="<p>".concat(e+2,"</p>"),Q.style.display="none",ie.style.display="inline-block"):4===e?(t='<div class="current-page"><p>'.concat(e,"</p></div>"),ve(),$.style.display="inline-flex",G.style.display="inline-flex",$.innerHTML="<p>".concat(e-2,"</p>"),G.innerHTML="<p>".concat(e-1,"</p>"),Z.style.display="inline-flex",z.style.display="inline-flex",Z.innerHTML="<p>".concat(e+1,"</p>"),z.innerHTML="<p>".concat(e+2,"</p>"),Q.style.display="none",ie.style.display="inline-block"):e===n?(t='<div class="current-page"><p>'.concat(e,"</p></div>"),J.style.display="inline-flex",W.style.display="inline-flex",te.style.display="none",ee.style.display="none",$.style.display="inline-flex",G.style.display="inline-flex",$.innerHTML="<p>".concat(e-2,"</p>"),G.innerHTML="<p>".concat(e-1,"</p>"),Z.style.display="none",z.style.display="none",Z.innerHTML="<p>".concat(e+1,"</p>"),z.innerHTML="<p>".concat(e+2,"</p>"),Q.style.display="inline-block",ie.style.display="none"):e===n-1?(t='<div class="current-page"><p>'.concat(e,"</p></div>"),ve(),$.style.display="inline-flex",G.style.display="inline-flex",$.innerHTML="<p>".concat(e-2,"</p>"),G.innerHTML="<p>".concat(e-1,"</p>"),Z.style.display="none",z.style.display="none",Z.innerHTML="<p>".concat(e+1,"</p>"),z.innerHTML="<p>".concat(e+2,"</p>"),Q.style.display="inline-block",ie.style.display="none"):e===n-2?(t='<div class="current-page"><p>'.concat(e,"</p></div>"),ve(),$.style.display="inline-flex",G.style.display="inline-flex",$.innerHTML="<p>".concat(e-2,"</p>"),G.innerHTML="<p>".concat(e-1,"</p>"),Z.style.display="inline-flex",z.style.display="none",Z.innerHTML="<p>".concat(e+1,"</p>"),z.innerHTML="<p>".concat(e+2,"</p>"),Q.style.display="inline-block",ie.style.display="none"):e===n-3?(t='<div class="current-page"><p>'.concat(e,"</p></div>"),ve(),$.style.display="inline-flex",G.style.display="inline-flex",$.innerHTML="<p>".concat(e-2,"</p>"),G.innerHTML="<p>".concat(e-1,"</p>"),Z.style.display="inline-flex",z.style.display="inline-flex",Z.innerHTML="<p>".concat(e+1,"</p>"),z.innerHTML="<p>".concat(e+2,"</p>"),Q.style.display="inline-block",ie.style.display="none"):(t='<div class="current-page"><p>'.concat(e,"</p></div>"),ve(),$.style.display="inline-flex",G.style.display="inline-flex",$.innerHTML="<p>".concat(e-2,"</p>"),G.innerHTML="<p>".concat(e-1,"</p>"),Z.style.display="inline-flex",z.style.display="inline-flex",Z.innerHTML="<p>".concat(e+1,"</p>"),z.innerHTML="<p>".concat(e+2,"</p>"),Q.style.display="inline-block",ie.style.display="inline-block"),t}var ue=function(e,n){ce=e,oe=n,re.innerHTML=se(e,n),ne.innerHTML=n};function pe(e){return de.apply(this,arguments)}function de(){return(de=e(a)(e(c).mark((function n(t){var i,r;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=null,!le.query){e.next=7;break}return e.next=4,le.moviesBySearch(t);case 4:i=e.sent,e.next=10;break;case 7:return e.next=9,le.popularMovies(t);case 9:i=e.sent;case 10:return i.results,r=i.results,(0,F.default)(I.STORAGE_KEY_MOVIES,r),ue(t,i.total_pages),e.next=16,K(r);case 16:ae.innerHTML=e.sent;case 17:case"end":return e.stop()}}),n)})))).apply(this,arguments)}function ye(){pe(++ce)}function fe(){pe(--ce)}function ve(){te.style.display="inline-flex",J.style.display="inline-flex",W.style.display="inline-flex",ee.style.display="inline-flex"}pe(ce),te.addEventListener("click",ye),J.addEventListener("click",fe),W.addEventListener("click",(function(){pe(ce=1)})),ee.addEventListener("click",(function(){ce=oe,pe(oe)})),G.addEventListener("click",fe),$.addEventListener("click",(function(){pe(ce-=2)})),Z.addEventListener("click",ye),z.addEventListener("click",(function(){pe(ce+=2)}));I=r("4s6iC");var xe={errorEl:document.querySelector(".error")};function me(e){xe.errorEl.textContent=e,xe.errorEl.classList.remove("visually-hidden"),setTimeout((function(){xe.errorEl.classList.add("visually-hidden")}),2e3)}var ge={searchForm:document.querySelector("#search-form"),gallery:document.querySelector(".gallery"),input:document.querySelector(".search_input")};ge.searchForm.addEventListener("submit",(function(e){return Le.apply(this,arguments)}));var Te=new(0,D.default);function Le(){return(Le=e(a)(e(c).mark((function n(t){var i,r,l;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),ge.gallery.innerHTML="",""!==(i=t.currentTarget.elements.searchQuery.value.trim())){e.next=7;break}return me("Please, enter your search query."),pe(1),e.abrupt("return");case 7:return Te.query=i,e.prev=8,e.next=11,Te.moviesBySearch();case 11:if(r=e.sent,0!==(l=r.results).length){e.next=16;break}return me("Search result is not successful. Enter the correct movie name."),e.abrupt("return");case 16:ue(r.page,r.total_pages),Y(l),(0,F.default)(I.STORAGE_KEY_MOVIES,l),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(8),console.log(e.t0);case 24:Te.query="";case 25:case"end":return e.stop()}}),n,null,[[8,21]])})))).apply(this,arguments)}ge.input.addEventListener("input",e(l)((function(){if(""===ge.input.value.trim())return pe(1),void me("Please, enter your search query.")}),I.DEBOUNCE_DELAY)),r("4F07H"),r("kvC6y"),r("3ytLt"),r("5xtVg"),r("daCfg"),r("jOfKZ"),r("bj0Jt"),r("jMqpj"),r("kvC6y"),r("7ra6p"),r("3ytLt"),r("5xtVg");var he={watchedModal:document.querySelector("#watchedModalBtn"),queueModal:document.querySelector("#queueModalBtn")};he.watchedModal.addEventListener("click",(function(){he.watchedModal.classList.toggle("is-active__Btn"),he.watchedModal.textContent="Remove from watched"})),he.queueModal.addEventListener("click",(function(){he.queueModal.classList.toggle("is-active__Btn"),he.queueModal.textContent="Remove from queue"}))}();
//# sourceMappingURL=index.4e3daba6.js.map
