{"mappings":"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","sources":["src/js/loader.js","src/js/footer-modal.js","src/js/getFromLocal.js","src/js/getMovieFromLocal.js","src/js/getGenresFromLocal.js","src/js/constants.js","src/js/modalCardOpen.js","src/js/saveInLocalStorage.js","src/js/modal.js","src/js/top-button.js","src/js/displeyLibrary.js"],"sourcesContent":["const mask = document.querySelector('.mask');\nwindow.addEventListener('load', () => {\n  mask.classList.add('hide');\n  setTimeout(() => {\n    mask.remove();\n  }, 600);\n});\n","const refs = {\n  openModalFooter: document.querySelector('[data-modal-open]'),\n  closeModalFooter: document.querySelector('[data-modal-close]'),\n  modalFooter: document.querySelector('[data-modal]'),\n  backdropFooter: document.querySelector('.backdrop-footer'),\n};\n\nrefs.openModalFooter.addEventListener('click', onOpenFooterModal);\nrefs.closeModalFooter.addEventListener('click', onCloseFooterModal);\nrefs.backdropFooter.addEventListener('click', onBackdropCloseFooterModal);\n\nfunction onOpenFooterModal() {\n  refs.modalFooter.classList.remove('is-hidden-footer');\n  window.addEventListener('keydown', onTargetKeydownFooter);\n}\n\nfunction onCloseFooterModal() {\n  refs.modalFooter.classList.add('is-hidden-footer');\n  window.removeEventListener('keydown', onTargetKeydownFooter);\n}\n\nfunction onBackdropCloseFooterModal(e) {\n  if (e.currentTarget === e.target) {\n    onCloseFooterModal();\n  }\n}\n\nfunction onTargetKeydownFooter(e) {\n  const ESC_KEY_CODE = 'Escape';\n  const isEscKey = e.code === ESC_KEY_CODE;\n\n  if (isEscKey) {\n    onCloseFooterModal();\n    window.removeEventListener('keydown', onTargetKeydownFooter);\n  }\n}\n","export default function getFromLocal(key) {\n  return JSON.parse(localStorage.getItem(key));\n}\n","import getFromLocal from \"./getFromLocal\"\n\nexport default function getMovieFromLocal(key, movieId) {\n  const moviesArray = getFromLocal(key);\n  const finedMovie = moviesArray.find(item => item.id === movieId);\n  return finedMovie;\n}\n","//Oksana Bulakh\n\nimport getFromLocal from './getFromLocal';\nimport { STORAGE_KEY_GENRES } from './constants';\n\n\n\nexport default function getGenresFromLocal(genreIdsArray) {\n  try {\n    const genresArrayFromLocal = getFromLocal(STORAGE_KEY_GENRES);\n    let genresOfMovie = [];\n    genreIdsArray.forEach(id => {\n      const genreOfMovie = genresArrayFromLocal.find(genre => genre.id === id);\n      genresOfMovie.push(genreOfMovie.name);\n    });\n    return genresOfMovie;\n  } catch (error) {\n    console.log(error);\n  }\n}\n","\nexport const API_KEY = \"8562b39677dad16e2334fc338fdc606e\";\nexport const BASE_URL = \"https://api.themoviedb.org/3/\";\nexport const STORAGE_KEY_MOVIES = \"moviesArrayOnLocal\";\nexport const STORAGE_KEY_GENRES = \"genresArrayOnLocal\";\nexport const STORAGE_KEY_MOVIEID = \"IdOfMovie\"\nexport const DEBOUNCE_DELAY = 300;","//Oksana Bulakh\n\nimport { STORAGE_KEY_MOVIES, STORAGE_KEY_MOVIEID } from './constants';\nimport getMovieFromLocal from './getMovieFromLocal';\nimport saveOnLocalStorage from './saveInLocalStorage';\nimport getGenresFromLocal from './getGenresFromLocal';\n\nconst refs = {\n    titleEl: document.querySelector('.movie__title'),\n    voteEl: document.querySelector('.vote-value'),\n    votesEl: document.querySelector('.votes-value'),\n    popularityEl: document.querySelector('.movie__info-wrap-item-popularity'),\n    origTitleEl: document.querySelector('.movie__info-wrap-item-name'),\n    genreEl: document.querySelector('.movie__info-item'),\n    aboutEl: document.querySelector('.movie-description'),\n}\n\nexport function openMovieCard(evt) {\n    \n    const clickOnCard = evt.target;\n    const movieId = Number(clickOnCard.id);\n    const movie = getMovieFromLocal(STORAGE_KEY_MOVIES, movieId);\n    \n    const {\n        id: movieIdFromLocal,\n        poster_path: poster,\n        title: titleMovie,\n        vote_average: vote,\n        vote_count: votes,\n        popularity: popularity,\n        original_title: originalTitle,\n        genre_ids: genreIds,\n        overview: about,\n    } = movie;\n\n    saveOnLocalStorage(STORAGE_KEY_MOVIEID, movieIdFromLocal);\n\n    const genres = `${getGenresFromLocal(genreIds).join(\", \")}`;\n    const moviePoster = `https://image.tmdb.org/t/p/w500${poster}`;\n    document.img.src = moviePoster;\n    refs.titleEl.textContent = titleMovie;\n    refs.voteEl.textContent = vote;\n    refs.votesEl.textContent = votes;\n    refs.popularityEl.textContent = popularity;\n    refs.origTitleEl.textContent = originalTitle;\n    refs.genreEl.textContent = genres;\n    refs.aboutEl.textContent = about;\n}","function saveOnLocalStorage(key, value) {\n  localStorage.setItem(key, JSON.stringify(value));\n}\n\nexport default saveOnLocalStorage;\n","import { STORAGE_KEY_MOVIEID  } from './constants';\nimport { openMovieCard } from './modalCardOpen';\n\nconst refs = {\n  gallery: document.querySelector('.gallery'),\n  openModal: document.querySelector('.modal[data-modal]'),\n  closeModal: document.querySelector('[data-action=\"close-modal\"]'),\n  backdrop: document.querySelector('.backdropMovie'),\n  modal: document.querySelector('.movie-modal-wrap')\n};\n\nrefs.gallery.addEventListener('click', onGalleryClick);\nrefs.modal.addEventListener('click', onBackdropClick);\nrefs.closeModal.addEventListener('click', onCloseModal);\n\nfunction onGalleryClick(e) {\n  e.preventDefault();\n  if (\n    e.target.nodeName !== 'IMG' &&\n    e.target.nodeName !== 'P' &&\n    e.target.nodeName !== 'LI'\n  ) {\n    return;\n  }\n  onOpenModal();\n  openMovieCard(e);\n}\n\nfunction onOpenModal() {\n  refs.backdrop.classList.remove('is-hidden');\n  window.addEventListener('keydown', onTargetKeydown);\n  document.body.style.overflow = \"hidden\"; \n}\n\nfunction onCloseModal() {\n  refs.backdrop.classList.add('is-hidden');\n  window.removeEventListener('keydown', onTargetKeydown);\n  document.body.style.overflow = \"\";\n  localStorage.removeItem(STORAGE_KEY_MOVIEID);\n}\n\nfunction onBackdropClick(e) {\n  if (e.currentTarget === e.target) {\n    onCloseModal();\n  }\n}\n\nfunction onTargetKeydown(e) {\n  const ESC_KEY_CODE = 'Escape';\n  const isEscKey = e.code === ESC_KEY_CODE;\n\n  if (isEscKey) {\n    onCloseModal();\n  }\n}\n","const target = document.querySelector('footer');\nconst scrollToTopBtn = document.querySelector('.scrollToTopBtn');\nconst rootElement = document.documentElement;\nwindow.onscroll = function () {\n  scrollFunction();\n};\nfunction scrollFunction() {\n  if (\n    document.body.scrollTop > 2500 ||\n    document.documentElement.scrollTop > 2500\n  ) {\n    scrollToTopBtn.classList.add('showBtn');\n  } else {\n    scrollToTopBtn.classList.remove('showBtn');\n  }\n}\n\n// Функция скрола наверх страницы при клике на кнопку\nfunction scrollToTop() {\n  rootElement.scrollTo({\n    top: 0,\n    behavior: 'smooth',\n  });\n}\nscrollToTopBtn.addEventListener('click', scrollToTop);\n","const libraryMessage = document.querySelector('.gallery-text');\nconst watchedBtn = document.querySelector('.watched');\nconst queueBtn = document.querySelector('.queue');\n\nwatchedBtn.addEventListener('click', displeyWatched);\nqueueBtn.addEventListener('click', displeyQueue);\n\nfunction displeyWatched() {\n  libraryMessage.textContent = 'Sorry, you have not added any film to your watched list yet.';\n  watchedBtn.classList.add('is-active');\n  queueBtn.classList.remove('is-active');\n}\n\nfunction displeyQueue() {\n  libraryMessage.textContent = 'Sorry, you have not added any film to your queue yet.';\n  queueBtn.classList.add('is-active');\n  watchedBtn.classList.remove('is-active');\n}\n"],"names":["$bdfcdc80b4c38739$var$mask","document","querySelector","window","addEventListener","classList","add","setTimeout","remove","$4e12c0f0297ad96a$var$refs","openModalFooter","closeModalFooter","modalFooter","backdropFooter","$4e12c0f0297ad96a$var$onCloseFooterModal","removeEventListener","$4e12c0f0297ad96a$var$onTargetKeydownFooter","e","code","currentTarget","target","$8df3e4d34ea1f45e$export$2e2bcd8739ae039","key","JSON","parse","localStorage","getItem","$6651842b727a336f$export$2e2bcd8739ae039","movieId","find","item","id","$1ed72d73826421b3$export$2e2bcd8739ae039","genreIdsArray","genresArrayFromLocal","genresOfMovie","forEach","genreOfMovie","genre","push","name","error","console","log","$0425c65d92105b25$var$refs","titleEl","voteEl","votesEl","popularityEl","origTitleEl","genreEl","aboutEl","$0425c65d92105b25$export$da2c5dd6c6e87347","evt","clickOnCard","movie","Number","movieIdFromLocal","poster_path","poster","title","titleMovie","vote_average","vote","vote_count","votes","popularity","original_title","originalTitle","genre_ids","genreIds","overview","about","value","setItem","stringify","genres","join","moviePoster","img","src","textContent","$8a7e756c566dd1ea$var$refs","gallery","openModal","closeModal","backdrop","modal","$8a7e756c566dd1ea$var$onCloseModal","$8a7e756c566dd1ea$var$onTargetKeydown","body","style","overflow","removeItem","preventDefault","nodeName","$be6fc7839f80a78d$var$scrollToTopBtn","$be6fc7839f80a78d$var$rootElement","documentElement","onscroll","scrollTop","scrollTo","top","behavior","$51608ec5bb1b144e$var$libraryMessage","$51608ec5bb1b144e$var$watchedBtn","$51608ec5bb1b144e$var$queueBtn"],"version":3,"file":"library.5288bf09.js.map"}