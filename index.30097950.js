!function(){function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},i={},r=n.parcelRequired7c6;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in i){var n=i[e];delete i[e];var r={id:e,exports:{}};return t[e]=r,n.call(r.exports,r,r.exports),r.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,n){i[e]=n},n.parcelRequired7c6=r);var l,a=r("bpxeT"),c=r("2TvXO"),s={},o=r("l5bVx");s=function(n){var t=void 0===n?"undefined":e(o)(n);return null!=n&&("object"==t||"function"==t)};var p,u={},d={};p="object"==typeof n&&n&&n.Object===Object&&n;var y="object"==typeof self&&self&&self.Object===Object&&self,f=p||y||Function("return this")();d=f;u=function(){return d.Date.now()};var v={},x={},m={},T=/\s/;m=function(e){for(var n=e.length;n--&&T.test(e.charAt(n)););return n};var g=/^\s+/;x=function(e){return e?e.slice(0,m(e)+1).replace(g,""):e};var b,L={},h=(o=r("l5bVx"),{});b=d.Symbol;var M={},H=Object.prototype,k=H.hasOwnProperty,S=H.toString,w=b?b.toStringTag:void 0;M=function(e){var n=k.call(e,w),t=e[w];try{e[w]=void 0;var i=!0}catch(e){}var r=S.call(e);return i&&(n?e[w]=t:delete e[w]),r};var E={},q=Object.prototype.toString;E=function(e){return q.call(e)};var j=b?b.toStringTag:void 0;h=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":j&&j in Object(e)?M(e):E(e)};var O={};O=function(e){return null!=e&&"object"==typeof e};L=function(n){return"symbol"==(void 0===n?"undefined":e(o)(n))||O(n)&&"[object Symbol]"==h(n)};var _=/^[-+]0x[0-9a-f]+$/i,V=/^0b[01]+$/i,A=/^0o[0-7]+$/i,C=parseInt;v=function(e){if("number"==typeof e)return e;if(L(e))return NaN;if(s(e)){var n="function"==typeof e.valueOf?e.valueOf():e;e=s(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=x(e);var t=V.test(e);return t||A.test(e)?C(e.slice(2),t?2:8):_.test(e)?NaN:+e};var N=Math.max,P=Math.min;l=function(e,n,t){var i,r,l,a,c,o,p=0,d=!1,y=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function x(n){var t=i,l=r;return i=r=void 0,p=n,a=e.apply(l,t)}function m(e){return p=e,c=setTimeout(g,n),d?x(e):a}function T(e){var t=e-o;return void 0===o||t>=n||t<0||y&&e-p>=l}function g(){var e=u();if(T(e))return b(e);c=setTimeout(g,function(e){var t=n-(e-o);return y?P(t,l-(e-p)):t}(e))}function b(e){return c=void 0,f&&i?x(e):(i=r=void 0,a)}function L(){var e=u(),t=T(e);if(i=arguments,r=this,o=e,t){if(void 0===c)return m(o);if(y)return clearTimeout(c),c=setTimeout(g,n),x(o)}return void 0===c&&(c=setTimeout(g,n)),a}return n=v(n)||0,s(t)&&(d=!!t.leading,l=(y="maxWait"in t)?N(v(t.maxWait)||0,n):l,f="trailing"in t?!!t.trailing:f),L.cancel=function(){void 0!==c&&clearTimeout(c),p=0,i=o=r=c=void 0},L.flush=function(){return void 0===c?a:b(u())},L};var D=r("6Y6JA"),F=r("7ra6p"),U=(r("bpxeT"),r("2TvXO"),D=r("6Y6JA"),a=r("bpxeT"),c=r("2TvXO"),r("daCfg")),Y={gallery:document.querySelector(".gallery")};function K(e){return R.apply(this,arguments)}function R(){return(R=e(a)(e(c).mark((function n(t){return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Y.gallery,e.next=3,X(t);case 3:e.t1=e.sent,e.t0.insertAdjacentHTML.call(e.t0,"beforeend",e.t1);case 5:case"end":return e.stop()}}),n)})))).apply(this,arguments)}function X(e){return B.apply(this,arguments)}function B(){return B=e(a)(e(c).mark((function n(t){var i;return e(c).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=t.map(function(){var n=e(a)(e(c).mark((function n(t){var i,r,l,a,s,o,p,u,d,y,f;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.id,r=t.title,l=t.name,a=t.release_date,s=t.genre_ids,o=t.poster_path,p="https://image.tmdb.org/t/p/w500".concat(o),u="https://image.tmdb.org/t/p/w500/AcKVlWaNVVVFQwro3nLXqPljcYA.jpg",e.next=5,(0,U.default)(s);case 5:if(!((d=e.sent).length>3)){e.next=10;break}return y="".concat(d.slice(0,3).join(", "),", ...other"),e.abrupt("return");case 10:return y=d.join(", "),f='<li class="card-item" id="'.concat(i,'">\n        <a class="card-link" id="').concat(i,'" href="').concat(null!==o?p:u,'">\n        <img class="card__image" id="').concat(i,'" src="').concat(null!==o?p:u,'" alt="').concat(r,'">\n        <div class="card-discr">\n        <p class="card-title" id="').concat(i,'">').concat(r||l,'</p>\n        <ul class="box">\n            <li class="card-genres" id="').concat(i,'">').concat(y||"Unknown",'</li>\n            <li class="card-data" id="').concat(i,'">').concat(a?a.slice(0,4):"Unknown","</li>\n        </ul>\n        </div>\n        </a>    \n    </li>"),e.abrupt("return",f);case 13:case"end":return e.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()),n.next=3,Promise.all(i);case 3:return i=(i=n.sent).join(""),n.abrupt("return",i);case 6:case"end":return n.stop()}}),n)}))),B.apply(this,arguments)}F=r("7ra6p");var I=r("4s6iC"),J=document.querySelector("[data-action-previous]"),W=document.querySelector("[data-action-first]"),$=document.querySelector("[data-action-second]"),G=document.querySelector("[data-action-third]"),Q=document.querySelector(".left-wing-dots");W.style.display="none",Q.style.display="none";var Z=document.querySelector("[data-action-last-third]"),z=document.querySelector("[data-action-last-second]"),ee=document.querySelector("[data-action-last]"),ne=document.querySelector("[data-action-last] > p"),te=document.querySelector("[data-action-next]"),ie=document.querySelector(".right-wing-dots"),re=document.querySelector(".pages-container"),le=new(0,D.default),ae=document.querySelector(".gallery"),ce=1,se=null;function oe(e,n){var t="";return 1===e?(t='<div class="current-page"><p>'.concat(e,"</p></div>"),J.style.display="none",W.style.display="none",te.style.display="inline-flex",ee.style.display="inline-flex",$.style.display="none",G.style.display="none",Z.style.display="inline-flex",z.style.display="inline-flex",Z.innerHTML="<p>".concat(e+1,"</p>"),z.innerHTML="<p>".concat(e+2,"</p>"),Q.style.display="none",ie.style.display="inline-block"):2===e?(t='<div class="current-page"><p>'.concat(e,"</p></div>"),ve(),$.style.display="none",G.style.display="none",Z.style.display="inline-flex",z.style.display="inline-flex",Z.innerHTML="<p>".concat(e+1,"</p>"),z.innerHTML="<p>".concat(e+2,"</p>"),Q.style.display="none",ie.style.display="inline-block"):3===e?(t='<div class="current-page"><p>'.concat(e,"</p></div>"),ve(),$.style.display="none",G.style.display="inline-flex",$.innerHTML="<p>".concat(e-2,"</p>"),G.innerHTML="<p>".concat(e-1,"</p>"),Z.style.display="inline-flex",z.style.display="inline-flex",Z.innerHTML="<p>".concat(e+1,"</p>"),z.innerHTML="<p>".concat(e+2,"</p>"),Q.style.display="none",ie.style.display="inline-block"):4===e?(t='<div class="current-page"><p>'.concat(e,"</p></div>"),ve(),$.style.display="inline-flex",G.style.display="inline-flex",$.innerHTML="<p>".concat(e-2,"</p>"),G.innerHTML="<p>".concat(e-1,"</p>"),Z.style.display="inline-flex",z.style.display="inline-flex",Z.innerHTML="<p>".concat(e+1,"</p>"),z.innerHTML="<p>".concat(e+2,"</p>"),Q.style.display="none",ie.style.display="inline-block"):e===n?(t='<div class="current-page"><p>'.concat(e,"</p></div>"),J.style.display="inline-flex",W.style.display="inline-flex",te.style.display="none",ee.style.display="none",$.style.display="inline-flex",G.style.display="inline-flex",$.innerHTML="<p>".concat(e-2,"</p>"),G.innerHTML="<p>".concat(e-1,"</p>"),Z.style.display="none",z.style.display="none",Z.innerHTML="<p>".concat(e+1,"</p>"),z.innerHTML="<p>".concat(e+2,"</p>"),Q.style.display="inline-block",ie.style.display="none"):e===n-1?(t='<div class="current-page"><p>'.concat(e,"</p></div>"),ve(),$.style.display="inline-flex",G.style.display="inline-flex",$.innerHTML="<p>".concat(e-2,"</p>"),G.innerHTML="<p>".concat(e-1,"</p>"),Z.style.display="none",z.style.display="none",Z.innerHTML="<p>".concat(e+1,"</p>"),z.innerHTML="<p>".concat(e+2,"</p>"),Q.style.display="inline-block",ie.style.display="none"):e===n-2?(t='<div class="current-page"><p>'.concat(e,"</p></div>"),ve(),$.style.display="inline-flex",G.style.display="inline-flex",$.innerHTML="<p>".concat(e-2,"</p>"),G.innerHTML="<p>".concat(e-1,"</p>"),Z.style.display="inline-flex",z.style.display="none",Z.innerHTML="<p>".concat(e+1,"</p>"),z.innerHTML="<p>".concat(e+2,"</p>"),Q.style.display="inline-block",ie.style.display="none"):e===n-3?(t='<div class="current-page"><p>'.concat(e,"</p></div>"),ve(),$.style.display="inline-flex",G.style.display="inline-flex",$.innerHTML="<p>".concat(e-2,"</p>"),G.innerHTML="<p>".concat(e-1,"</p>"),Z.style.display="inline-flex",z.style.display="inline-flex",Z.innerHTML="<p>".concat(e+1,"</p>"),z.innerHTML="<p>".concat(e+2,"</p>"),Q.style.display="inline-block",ie.style.display="none"):(t='<div class="current-page"><p>'.concat(e,"</p></div>"),ve(),$.style.display="inline-flex",G.style.display="inline-flex",$.innerHTML="<p>".concat(e-2,"</p>"),G.innerHTML="<p>".concat(e-1,"</p>"),Z.style.display="inline-flex",z.style.display="inline-flex",Z.innerHTML="<p>".concat(e+1,"</p>"),z.innerHTML="<p>".concat(e+2,"</p>"),Q.style.display="inline-block",ie.style.display="inline-block"),t}var pe=function(e,n){ce=e,se=n,re.innerHTML=oe(e,n),ne.innerHTML=n};function ue(e){return de.apply(this,arguments)}function de(){return(de=e(a)(e(c).mark((function n(t){var i,r;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=null,!le.query){e.next=7;break}return e.next=4,le.moviesBySearch(t);case 4:i=e.sent,e.next=10;break;case 7:return e.next=9,le.popularMovies(t);case 9:i=e.sent;case 10:return i.results,r=i.results,(0,F.default)(I.STORAGE_KEY_MOVIES,r),pe(t,i.total_pages),e.next=16,X(r);case 16:ae.innerHTML=e.sent;case 17:case"end":return e.stop()}}),n)})))).apply(this,arguments)}function ye(){ue(++ce)}function fe(){ue(--ce)}function ve(){te.style.display="inline-flex",J.style.display="inline-flex",W.style.display="inline-flex",ee.style.display="inline-flex"}ue(ce),te.addEventListener("click",ye),J.addEventListener("click",fe),W.addEventListener("click",(function(){ue(ce=1)})),ee.addEventListener("click",(function(){ce=se,ue(se)})),G.addEventListener("click",fe),$.addEventListener("click",(function(){ue(ce-=2)})),Z.addEventListener("click",ye),z.addEventListener("click",(function(){ue(ce+=2)}));I=r("4s6iC");var xe={errorEl:document.querySelector(".error")};function me(e){xe.errorEl.textContent=e,xe.errorEl.classList.remove("visually-hidden"),setTimeout((function(){xe.errorEl.classList.add("visually-hidden")}),2e3)}var Te={searchForm:document.querySelector("#search-form"),gallery:document.querySelector(".gallery"),input:document.querySelector(".search_input")};Te.searchForm.addEventListener("submit",(function(e){return be.apply(this,arguments)}));var ge=new(0,D.default);function be(){return(be=e(a)(e(c).mark((function n(t){var i,r,l;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),Te.gallery.innerHTML="",""!==(i=t.currentTarget.elements.searchQuery.value.trim())){e.next=7;break}return me("Please, enter your search query."),ue(1),e.abrupt("return");case 7:return ge.query=i,e.prev=8,e.next=11,ge.moviesBySearch();case 11:if(r=e.sent,0!==(l=r.results).length){e.next=16;break}return me("Search result is not successful. Enter the correct movie name."),e.abrupt("return");case 16:pe(currentPage,totalPage),K(l),(0,F.default)(I.STORAGE_KEY_MOVIES,l),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(8),console.log(e.t0);case 24:case"end":return e.stop()}}),n,null,[[8,21]])})))).apply(this,arguments)}Te.input.addEventListener("input",e(l)((function(){if(""===Te.input.value.trim())return ue(1),void me("Please, enter your search query.")}),I.DEBOUNCE_DELAY)),r("4F07H"),r("kvC6y"),r("3ytLt"),r("5xtVg"),r("daCfg"),r("jOfKZ"),r("bj0Jt"),r("jMqpj"),r("kvC6y"),r("7ra6p"),r("3ytLt"),r("5xtVg")}();
//# sourceMappingURL=index.30097950.js.map
