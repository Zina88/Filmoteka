{"mappings":"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","sources":["src/js/footer-modal.js","src/js/loader.js","src/js/getFromLocal.js","src/js/getGenresFromLocal.js","src/js/constants.js","src/js/getMovieFromLocal.js","src/js/modalCardOpen.js","src/js/modal.js","src/js/displeyLibrary.js"],"sourcesContent":["const refs = {\n  openModalFooter: document.querySelector('[data-modal-open]'),\n  closeModalFooter: document.querySelector('[data-modal-close]'),\n  modalFooter: document.querySelector('[data-modal]'),\n  backdropFooter: document.querySelector('.backdrop-footer'),\n};\n\nrefs.openModalFooter.addEventListener('click', onOpenFooterModal);\nrefs.closeModalFooter.addEventListener('click', onCloseFooterModal);\nrefs.backdropFooter.addEventListener('click', onBackdropCloseFooterModal);\n\nfunction onOpenFooterModal() {\n  refs.modalFooter.classList.remove('is-hidden-footer');\n  window.addEventListener('keydown', onTargetKeydownFooter);\n}\n\nfunction onCloseFooterModal() {\n  refs.modalFooter.classList.add('is-hidden-footer');\n  window.removeEventListener('keydown', onTargetKeydownFooter);\n}\n\nfunction onBackdropCloseFooterModal(e) {\n  if (e.currentTarget === e.target) {\n    onCloseFooterModal();\n  }\n}\n\nfunction onTargetKeydownFooter(e) {\n  const ESC_KEY_CODE = 'Escape';\n  const isEscKey = e.code === ESC_KEY_CODE;\n\n  if (isEscKey) {\n    onCloseFooterModal();\n    window.removeEventListener('keydown', onTargetKeydownFooter);\n  }\n}\n","const mask = document.querySelector('.mask');\nwindow.addEventListener('load', () => {\n  mask.classList.add('hide');\n  setTimeout(() => {\n    mask.remove();\n  }, 600);\n});\n","export default function getFromLocal(key) {\n  return JSON.parse(localStorage.getItem(key));\n}\n","//Oksana Bulakh\n\nimport getFromLocal from './getFromLocal';\nimport { STORAGE_KEY_GENRES } from './constants';\n\nexport default function getGenresFromLocal(genreIdsArray) {\n  try {\n    const genresArrayFromLocal = getFromLocal(STORAGE_KEY_GENRES);\n    let genresOfMovie = [];\n    genreIdsArray.forEach(id => {\n      const genreOfMovie = genresArrayFromLocal.find(genre => genre.id === id);\n      genresOfMovie.push(genreOfMovie.name);\n    });\n    return genresOfMovie.join(', ');\n  } catch (error) {\n    console.log(error);\n  }\n}\n","\nexport const API_KEY = \"8562b39677dad16e2334fc338fdc606e\";\nexport const BASE_URL = \"https://api.themoviedb.org/3/\";\nexport const STORAGE_KEY_MOVIES = \"moviesArrayOnLocal\";\nexport const STORAGE_KEY_GENRES = \"genresArrayOnLocal\";","import getFromLocal from \"./getFromLocal\"\n\nexport default function getMovieFromLocal(key, movieId) {\n  const moviesArray = getFromLocal(key);\n  const finedMovie = moviesArray.find(item => item.id === movieId);\n  return finedMovie;\n}\n","//Oksana Bulakh\n\nimport { STORAGE_KEY_MOVIES } from './constants';\nimport getMovieFromLocal from './getMovieFromLocal';\nimport getGenresFromLocal from './getGenresFromLocal';\n\nconst refs = {\n    titleEl: document.querySelector('.movie__title'),\n    voteEl: document.querySelector('.vote-value'),\n    votesEl: document.querySelector('.votes-value'),\n    popularityEl: document.querySelector('.movie__info-wrap-item-popularity'),\n    origTitleEl: document.querySelector('.movie__info-wrap-item-name'),\n    genreEl: document.querySelector('.movie__info-item'),\n    aboutEl: document.querySelector('.movie-description'),\n}\n\nexport function openMovieCard(evt) {\n    \n    const clickOnCard = evt.target;\n    const movieId = Number(clickOnCard.id);\n    const movie = getMovieFromLocal(STORAGE_KEY_MOVIES, movieId);\n    \n    const {\n        id: movieIdFromLocal,\n        poster_path: poster,\n        title: titleMovie,\n        vote_average: vote,\n        vote_count: votes,\n        popularity: popularity,\n        original_title: originalTitle,\n        genre_ids: genreIds,\n        overview: about,\n    } = movie;\n\n    const moviePoster = `https://image.tmdb.org/t/p/w500${poster}`;\n    document.img.src = moviePoster;\n    refs.titleEl.textContent = titleMovie;\n    refs.voteEl.textContent = vote;\n    refs.votesEl.textContent = votes;\n    refs.popularityEl.textContent = popularity;\n    refs.origTitleEl.textContent = originalTitle;\n    refs.genreEl.textContent = getGenresFromLocal(genreIds);\n    refs.aboutEl.textContent = about;\n}\n\n","import { STORAGE_KEY_MOVIES } from './constants';\nimport getMovieFromLocal from './getFromLocal';\nimport getGenresFromLocal from './getGenresFromLocal';\nimport { openMovieCard } from './modalCardOpen';\n\nconst refs = {\n  gallery: document.querySelector('.gallery'),\n  openModal: document.querySelector('.modal[data-modal]'),\n  closeModal: document.querySelector('[data-action=\"close-modal\"]'),\n  backdrop: document.querySelector('.backdropMovie'),\n  modal: document.querySelector('.movie-modal-wrap')\n};\n\nrefs.gallery.addEventListener('click', onGalleryClick);\nrefs.modal.addEventListener('click', onBackdropClick);\nrefs.closeModal.addEventListener('click', onCloseModal);\n\nfunction onGalleryClick(e) {\n  e.preventDefault();\n  if (\n    e.target.nodeName !== 'IMG' &&\n    e.target.nodeName !== 'P' &&\n    e.target.nodeName !== 'LI'\n  ) {\n    return;\n  }\n  onOpenModal();\n  openMovieCard(e);\n}\n\nfunction onOpenModal() {\n  refs.backdrop.classList.remove('is-hidden');\n  window.addEventListener('keydown', onTargetKeydown);\n  document.body.style.overflow = \"hidden\"; \n}\n\nfunction onCloseModal() {\n  refs.backdrop.classList.add('is-hidden');\n  window.removeEventListener('keydown', onTargetKeydown);\n  document.body.style.overflow = \"\";\n}\n\nfunction onBackdropClick(e) {\n  if (e.currentTarget === e.target) {\n    onCloseModal();\n  }\n}\n\nfunction onTargetKeydown(e) {\n  const ESC_KEY_CODE = 'Escape';\n  const isEscKey = e.code === ESC_KEY_CODE;\n\n  if (isEscKey) {\n    onCloseModal();\n  }\n}\n","const libraryMessage = document.querySelector('.gallery-text');\nconst watchedBtn = document.querySelector('.watched');\nconst queueBtn = document.querySelector('.queue');\n\nwatchedBtn.addEventListener('click', displeyWatched);\nqueueBtn.addEventListener('click', displeyQueue);\n\nfunction displeyWatched() {\n  libraryMessage.textContent = 'Sorry, you have not added any film to your watched list yet.';\n  watchedBtn.classList.add('is-active');\n  queueBtn.classList.remove('is-active');\n}\n\nfunction displeyQueue() {\n  libraryMessage.textContent = 'Sorry, you have not added any film to your queue yet.';\n  queueBtn.classList.add('is-active');\n  watchedBtn.classList.remove('is-active');\n}\n"],"names":["$364b163d2b622c7d$var$refs","openModalFooter","document","querySelector","closeModalFooter","modalFooter","backdropFooter","$364b163d2b622c7d$var$onCloseFooterModal","classList","add","window","removeEventListener","$364b163d2b622c7d$var$onTargetKeydownFooter","e","code","addEventListener","remove","currentTarget","target","$03da642c15b09e5e$var$mask","setTimeout","$e6bee8d9b9f8499b$export$2e2bcd8739ae039","key","JSON","parse","localStorage","getItem","$9969e03f21e0b9b1$export$2e2bcd8739ae039","genreIdsArray","genresArrayFromLocal","genresOfMovie","forEach","id","genreOfMovie","find","genre","push","name","join","error","console","log","$83b20980c9066596$export$2e2bcd8739ae039","movieId","item","$e666fbf0b3d324d0$var$refs","titleEl","voteEl","votesEl","popularityEl","origTitleEl","genreEl","aboutEl","$e666fbf0b3d324d0$export$da2c5dd6c6e87347","evt","clickOnCard","movie","Number","poster","poster_path","titleMovie","title","vote","vote_average","votes","vote_count","popularity","originalTitle","original_title","genreIds","genre_ids","about","overview","moviePoster","concat","img","src","textContent","$40873ecf3c18e122$var$refs","gallery","openModal","closeModal","backdrop","modal","$40873ecf3c18e122$var$onCloseModal","$40873ecf3c18e122$var$onTargetKeydown","body","style","overflow","preventDefault","nodeName","$7b495c8d7212c857$var$libraryMessage","$7b495c8d7212c857$var$watchedBtn","$7b495c8d7212c857$var$queueBtn"],"version":3,"file":"library.34a3cea4.js.map"}