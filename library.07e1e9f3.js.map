{"mappings":"klBAAA,IAAAA,EAAAC,EAAA,S,aCAAC,EAAAD,EAAA,SAEe,SAAAE,EAAmCC,GAChD,OAAOA,EACJC,KACC,EACEC,GAAIC,EAAOC,MACXA,EAAKC,KACLA,EACAC,aAAcC,EACdC,UAAWC,EAAcC,YACzBA,MAEA,MAAMC,EAAS,kCAAkCD,IAC3CE,EACJ,kEAEIC,GAAgB,EAAAf,EAAAgB,SAAmBL,GACzC,IAAIM,EACJ,GAAIF,EAAcG,OAAS,EAEzB,YADAD,EAAS,GAAGF,EAAcI,MAAM,EAAG,GAAGC,KAAK,mBAG7CH,EAASF,EAAcK,KAAK,MAsB5B,MArBoB,6BAA6Bf,yCACtBA,YACT,OAAhBO,EAAuBC,EAASC,6CAEHT,WACb,OAAhBO,EAAuBC,EAASC,WACxBR,4EAEkBD,MAAYC,GAAgBC,4EAEtBF,MAChCY,GAAkB,yDAEYZ,MAE9BI,EAAcA,EAAYU,MAAM,EAAG,GAAK,gFAS7CC,KAAK,ID5CV,MAAMC,EAAO,CACXC,cAAeC,SAASC,cAAc,oBACtCC,WAAYF,SAASC,cAAc,YACnCE,SAAUH,SAASC,cAAc,WAGnCH,EAAKI,WAAWE,iBAAiB,QAASC,GAC1CP,EAAKK,SAASC,iBAAiB,SAe/B,WAgBEN,EAAKK,SAASG,UAAUC,IAAI,aAC5BT,EAAKI,WAAWI,UAAUE,OAAO,aACjCV,EAAKI,WAAWO,UAAW,EAC3BX,EAAKK,SAASM,UAAW,EAjBD,IAAxBC,EAAaf,OACRG,EAAKC,cAAcY,UAAYjC,EAA0BgC,GACzDZ,EAAKC,cAAcY,UAClB,4DAlBR,IAAIC,GAAiB,EAAAC,EAAApB,SAAalB,EAAAuC,qBAC9BJ,GAAe,EAAAG,EAAApB,SAAalB,EAAAwC,mBAIhC,SAASV,IAiBPP,EAAKI,WAAWI,UAAUC,IAAI,aAC9BT,EAAKK,SAASG,UAAUE,OAAO,aAC/BV,EAAKI,WAAWO,UAAW,EAC3BX,EAAKK,SAASM,UAAW,EAlBC,IAA1BG,EAAejB,OACVG,EAAKC,cAAcY,UAAYjC,EAA0BkC,GACzDd,EAAKC,cAAcY,UAClB,gEAPRN","sources":["src/js/displayLibrary.js","src/js/markupLibraryCard.js"],"sourcesContent":["import { STORAGE_KEY_WATCHED, STORAGE_KEY_QUEUE } from './constants';\nimport getFromLocal from './getFromLocal';\nimport createMoviesMarkupLibrary from './markupLibraryCard';\n\nconst refs = {\n  libraryGalery: document.querySelector('.gallery-library'),\n  watchedBtn: document.querySelector('.watched'),\n  queueBtn: document.querySelector('.queue'),\n};\n\nrefs.watchedBtn.addEventListener('click', displayWatched);\nrefs.queueBtn.addEventListener('click', displayQueue);\n\nlet movieToWatched = getFromLocal(STORAGE_KEY_WATCHED);\nlet movieToQueue = getFromLocal(STORAGE_KEY_QUEUE);\n\ndisplayWatched();\n\nfunction displayWatched() {\n  watchedBtnIsActive();\n  movieToWatched.length !== 0\n    ? (refs.libraryGalery.innerHTML = createMoviesMarkupLibrary(movieToWatched))\n    : (refs.libraryGalery.innerHTML =\n        'Sorry, you have not added any movie to your watched list yet.');\n}\n\nfunction displayQueue() {\n  queueBtnIsActive();\n  movieToQueue.length !== 0\n    ? (refs.libraryGalery.innerHTML = createMoviesMarkupLibrary(movieToQueue))\n    : (refs.libraryGalery.innerHTML =\n        'Sorry, you have not added any movie to your queue yet.');\n}\n\nfunction watchedBtnIsActive() {\n  refs.watchedBtn.classList.add('is-active');\n  refs.queueBtn.classList.remove('is-active');\n  refs.watchedBtn.disabled = true;\n  refs.queueBtn.disabled = false;\n}\n\nfunction queueBtnIsActive() {\n  refs.queueBtn.classList.add('is-active');\n  refs.watchedBtn.classList.remove('is-active');\n  refs.watchedBtn.disabled = false;\n  refs.queueBtn.disabled = true;\n}\n","import getGenresFromLocal from './getGenresFromLocal';\n\nexport default function createMoviesMarkupLibrary(movies) {\n  return movies\n    .map(\n      ({\n        id: movieId,\n        title,\n        name,\n        release_date: releaseDate,\n        genre_ids: genresIdsArray,\n        poster_path,\n      }) => {\n        const poster = `https://image.tmdb.org/t/p/w500${poster_path}`;\n        const placeholderImg =\n          'https://image.tmdb.org/t/p/w500/AcKVlWaNVVVFQwro3nLXqPljcYA.jpg';\n\n        const genresOfMovie = getGenresFromLocal(genresIdsArray);\n        let genres;\n        if (genresOfMovie.length > 3) {\n          genres = `${genresOfMovie.slice(0, 3).join(', ')}, ...other`;\n          return;\n        }\n        genres = genresOfMovie.join(', ');\n        const movieMarkup = `<li class=\"card-item\" id=\"${movieId}\">\n        <a class=\"card-link\" id=\"${movieId}\" href=\"${\n          poster_path !== null ? poster : placeholderImg\n        }\">\n        <img class=\"card__image\" id=\"${movieId}\" src=\"${\n          poster_path !== null ? poster : placeholderImg\n        }\" alt=\"${title}\">\n        <div class=\"card-discr\">\n        <p class=\"card-title\" id=\"${movieId}\">${title ? title : name}</p>\n        <ul class=\"box\">\n            <li class=\"card-genres\" id=\"${movieId}\">${\n          genres ? genres : 'Unknown'\n        }</li>\n            <li class=\"card-data\" id=\"${movieId}\">${\n          // releaseDate ? releaseDate.slice(0, 4) : firstDate.slice(0, 4)\n          releaseDate ? releaseDate.slice(0, 4) : 'Unknown'\n        }</li>\n        </ul>\n        </div>\n        </a>    \n    </li>`;\n        return movieMarkup;\n      }\n    )\n    .join('');\n}\n"],"names":["$8G1wF","parcelRequire","$2Ea8k","$f4918faf1d6bada0$export$2e2bcd8739ae039","movies","map","id","movieId","title","name","release_date","releaseDate","genre_ids","genresIdsArray","poster_path","poster","placeholderImg","genresOfMovie","default","genres","length","slice","join","$9ec201cb4d2b40da$var$refs","libraryGalery","document","querySelector","watchedBtn","queueBtn","addEventListener","$9ec201cb4d2b40da$var$displayWatched","classList","add","remove","disabled","$9ec201cb4d2b40da$var$movieToQueue","innerHTML","$9ec201cb4d2b40da$var$movieToWatched","$cbBSt","STORAGE_KEY_WATCHED","STORAGE_KEY_QUEUE"],"version":3,"file":"library.07e1e9f3.js.map"}