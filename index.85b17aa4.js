function e(e){return e&&e.__esModule?e.default:e}var l="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},i={},s=l.parcelRequired7c6;null==s&&((s=function(e){if(e in n)return n[e].exports;if(e in i){var l=i[e];delete i[e];var s={id:e,exports:{}};return n[e]=s,l.call(s.exports,s,s.exports),s.exports}var y=new Error("Cannot find module '"+e+"'");throw y.code="MODULE_NOT_FOUND",y}).register=function(e,l){i[e]=l},l.parcelRequired7c6=s);var y,t={};t=function(e){var l=typeof e;return null!=e&&("object"==l||"function"==l)};var a,d={},p={};a="object"==typeof l&&l&&l.Object===Object&&l;var o="object"==typeof self&&self&&self.Object===Object&&self,r=a||o||Function("return this")();d=function(){return p.Date.now()};var f={},c={},u={},x=/\s/;u=function(e){for(var l=e.length;l--&&x.test(e.charAt(l)););return l};var v=/^\s+/;c=function(e){return e?e.slice(0,u(e)+1).replace(v,""):e};var T,g={},$={};T=(p=r).Symbol;var m={},L=Object.prototype,M=L.hasOwnProperty,h=L.toString,H=T?T.toStringTag:void 0;m=function(e){var l=M.call(e,H),n=e[H];try{e[H]=void 0;var i=!0}catch(e){}var s=h.call(e);return i&&(l?e[H]=n:delete e[H]),s};var S={},E=Object.prototype.toString;S=function(e){return E.call(e)};var b=T?T.toStringTag:void 0;$=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":b&&b in Object(e)?m(e):S(e)};var w={};w=function(e){return null!=e&&"object"==typeof e};g=function(e){return"symbol"==typeof e||w(e)&&"[object Symbol]"==$(e)};var q=/^[-+]0x[0-9a-f]+$/i,O=/^0b[01]+$/i,k=/^0o[0-7]+$/i,_=parseInt;f=function(e){if("number"==typeof e)return e;if(g(e))return NaN;if(t(e)){var l="function"==typeof e.valueOf?e.valueOf():e;e=t(l)?l+"":l}if("string"!=typeof e)return 0===e?e:+e;e=c(e);var n=O.test(e);return n||k.test(e)?_(e.slice(2),n?2:8):q.test(e)?NaN:+e};var j=Math.max,A=Math.min;y=function(e,l,n){var i,s,y,a,p,o,r=0,c=!1,u=!1,x=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(l){var n=i,y=s;return i=s=void 0,r=l,a=e.apply(y,n)}function T(e){return r=e,p=setTimeout($,l),c?v(e):a}function g(e){var n=e-o;return void 0===o||n>=l||n<0||u&&e-r>=y}function $(){var e=d();if(g(e))return m(e);p=setTimeout($,function(e){var n=l-(e-o);return u?A(n,y-(e-r)):n}(e))}function m(e){return p=void 0,x&&i?v(e):(i=s=void 0,a)}function L(){var e=d(),n=g(e);if(i=arguments,s=this,o=e,n){if(void 0===p)return T(o);if(u)return clearTimeout(p),p=setTimeout($,l),v(o)}return void 0===p&&(p=setTimeout($,l)),a}return l=f(l)||0,t(n)&&(c=!!n.leading,y=(u="maxWait"in n)?j(f(n.maxWait)||0,l):y,x="trailing"in n?!!n.trailing:x),L.cancel=function(){void 0!==p&&clearTimeout(p),r=0,i=o=s=p=void 0},L.flush=function(){return void 0===p?a:m(d())},L};var G=s("gmOeB"),W=s("1koGM"),N=(G=s("gmOeB"),s("2Ea8k")),D=s("8G1wF");W=s("1koGM");const R={gallery:document.querySelector(".gallery")};async function B(e){R.gallery.insertAdjacentHTML("beforeend",await C(e))}async function C(e){let l=e.map((async({id:e,title:l,name:n,release_date:i,genre_ids:s,poster_path:y})=>{const t=`https://image.tmdb.org/t/p/w500${y}`,a="https://image.tmdb.org/t/p/w500/AcKVlWaNVVVFQwro3nLXqPljcYA.jpg",d=await(0,N.default)(s);let p;if(d.length>3)return void(p=`${d.slice(0,3).join(", ")}, ...other`);p=d.join(", ");return`<li class="card-item" id="${e}">\n        <a class="card-link" id="${e}" href="${null!==y?t:a}">\n        <img class="card__image" id="${e}" src="${null!==y?t:a}" alt="${l}">\n        <div class="card-discr">\n        <p class="card-title" id="${e}">${l||n}</p>\n        <ul class="box">\n            <li class="card-genres" id="${e}">${p||"Unknown"}</li>\n            <li class="card-data" id="${e}">${i?i.slice(0,4):"Unknown"}</li>\n        </ul>\n        </div>\n        </a>    \n    </li>`}));return l=await Promise.all(l),l=l.join(""),l}(0,W.default)(D.STORAGE_KEY_WATCHED,[]),(0,W.default)(D.STORAGE_KEY_QUEUE,[]);W=s("1koGM"),D=s("8G1wF");var I=s("glGLq");const F=document.querySelector("[data-action-previous]"),V=document.querySelector("[data-action-left-dots]");V.style.display="none";const Y=document.querySelector("[data-action-first]"),K=document.querySelector("[data-action-second]"),U=document.querySelector("[data-action-third]"),P=document.querySelector(".left-wing-dots");Y.style.display="none",P.style.display="none";const Q=document.querySelector("[data-action-last-third]"),J=document.querySelector("[data-action-last-second]"),z=document.querySelector("[data-action-last]"),X=document.querySelector("[data-action-last] > p"),Z=document.querySelector("[data-action-next]"),ee=document.querySelector("[data-action-right-dots]");ee.style.display="none";const le=document.querySelector(".right-wing-dots"),ne=document.querySelector(".pages-container"),ie=new(0,G.default),se=document.querySelector(".gallery");let ye=1,te=null;function ae(e,l){let n="";return 1===e?(n=`<div class="current-page"><p>${e}</p></div>`,F.style.display="none",Y.style.display="none",Z.style.display="inline-flex",z.style.display="inline-flex",K.style.display="none",U.style.display="none",V.style.display="none",Q.style.display="inline-flex",J.style.display="inline-flex",Q.innerHTML=`<p>${e+1}</p>`,J.innerHTML=`<p>${e+2}</p>`,ee.style.display="none",P.style.display="none",le.style.display="inline-block"):2===e?(n=`<div class="current-page"><p>${e}</p></div>`,fe(),K.style.display="none",U.style.display="none",V.style.display="none",Q.style.display="inline-flex",J.style.display="inline-flex",Q.innerHTML=`<p>${e+1}</p>`,J.innerHTML=`<p>${e+2}</p>`,ee.style.display="none",P.style.display="none",le.style.display="inline-block"):3===e?(n=`<div class="current-page"><p>${e}</p></div>`,fe(),K.style.display="none",U.style.display="inline-flex",V.style.display="none",K.innerHTML=`<p>${e-2}</p>`,U.innerHTML=`<p>${e-1}</p>`,Q.style.display="inline-flex",J.style.display="inline-flex",Q.innerHTML=`<p>${e+1}</p>`,J.innerHTML=`<p>${e+2}</p>`,ee.style.display="none",P.style.display="none",le.style.display="inline-block"):4===e?(n=`<div class="current-page"><p>${e}</p></div>`,fe(),K.style.display="inline-flex",U.style.display="inline-flex",V.style.display="none",K.innerHTML=`<p>${e-2}</p>`,U.innerHTML=`<p>${e-1}</p>`,Q.style.display="inline-flex",J.style.display="inline-flex",Q.innerHTML=`<p>${e+1}</p>`,J.innerHTML=`<p>${e+2}</p>`,ee.style.display="none",P.style.display="none",le.style.display="inline-block"):5===e?(n=`<div class="current-page"><p>${e}</p></div>`,fe(),K.style.display="inline-flex",U.style.display="inline-flex",V.style.display="inline-flex",V.innerHTML=`<p>${e-3}</p>`,K.innerHTML=`<p>${e-2}</p>`,U.innerHTML=`<p>${e-1}</p>`,Q.style.display="inline-flex",J.style.display="inline-flex",Q.innerHTML=`<p>${e+1}</p>`,J.innerHTML=`<p>${e+2}</p>`,ee.style.display="none",P.style.display="none",le.style.display="inline-block"):e===l?(n=`<div class="current-page"><p>${e}</p></div>`,F.style.display="inline-flex",Y.style.display="inline-flex",Z.style.display="none",z.style.display="none",K.style.display="inline-flex",U.style.display="inline-flex",V.style.display="none",K.innerHTML=`<p>${e-2}</p>`,U.innerHTML=`<p>${e-1}</p>`,Q.style.display="none",J.style.display="none",Q.innerHTML=`<p>${e+1}</p>`,J.innerHTML=`<p>${e+2}</p>`,ee.style.display="none",P.style.display="inline-block",le.style.display="none"):e===l-1?(n=`<div class="current-page"><p>${e}</p></div>`,fe(),K.style.display="inline-flex",U.style.display="inline-flex",V.style.display="none",K.innerHTML=`<p>${e-2}</p>`,U.innerHTML=`<p>${e-1}</p>`,Q.style.display="none",J.style.display="none",Q.innerHTML=`<p>${e+1}</p>`,J.innerHTML=`<p>${e+2}</p>`,ee.style.display="none",P.style.display="inline-block",le.style.display="none"):e===l-2?(n=`<div class="current-page"><p>${e}</p></div>`,fe(),K.style.display="inline-flex",U.style.display="inline-flex",V.style.display="none",K.innerHTML=`<p>${e-2}</p>`,U.innerHTML=`<p>${e-1}</p>`,Q.style.display="inline-flex",J.style.display="none",Q.innerHTML=`<p>${e+1}</p>`,J.innerHTML=`<p>${e+2}</p>`,ee.style.display="none",P.style.display="inline-block",le.style.display="none"):e===l-3?(n=`<div class="current-page"><p>${e}</p></div>`,fe(),K.style.display="inline-flex",U.style.display="inline-flex",V.style.display="none",K.innerHTML=`<p>${e-2}</p>`,U.innerHTML=`<p>${e-1}</p>`,Q.style.display="inline-flex",J.style.display="inline-flex",Q.innerHTML=`<p>${e+1}</p>`,J.innerHTML=`<p>${e+2}</p>`,ee.style.display="none",P.style.display="inline-block",le.style.display="none"):e===l-4?(n=`<div class="current-page"><p>${e}</p></div>`,fe(),K.style.display="inline-flex",U.style.display="inline-flex",V.style.display="none",K.innerHTML=`<p>${e-2}</p>`,U.innerHTML=`<p>${e-1}</p>`,Q.style.display="inline-flex",J.style.display="inline-flex",Q.innerHTML=`<p>${e+1}</p>`,J.innerHTML=`<p>${e+2}</p>`,ee.style.display="inline-flex",ee.innerHTML=`<p>${e+3}</p>`,P.style.display="inline-block",le.style.display="none"):(n=`<div class="current-page"><p>${e}</p></div>`,fe(),K.style.display="inline-flex",U.style.display="inline-flex",V.style.display="none",K.innerHTML=`<p>${e-2}</p>`,U.innerHTML=`<p>${e-1}</p>`,Q.style.display="inline-flex",J.style.display="inline-flex",Q.innerHTML=`<p>${e+1}</p>`,J.innerHTML=`<p>${e+2}</p>`,ee.style.display="none",P.style.display="inline-block",le.style.display="inline-block"),console.log(l),1===l&&(K.style.display="none",U.style.display="none",Q.style.display="none",J.style.display="none",P.style.display="none",le.style.display="none",Z.style.display="none",F.style.display="none",z.style.display="none",V.style.display="none",ee.style.display="none"),2===l&&1===e?(K.style.display="none",U.style.display="none",Q.style.display="inline-flex",J.style.display="none",P.style.display="none",le.style.display="none",Z.style.display="inline-flex",F.style.display="none",z.style.display="none",Y.style.display="none",V.style.display="none",ee.style.display="none"):2===l&&2===e&&(K.style.display="none",U.style.display="none",Q.style.display="none",J.style.display="none",P.style.display="none",le.style.display="none",Z.style.display="none",F.style.display="inline-flex",z.style.display="none",Y.style.display="inline-flex",V.style.display="none",ee.style.display="none"),3===l&&1===e?(K.style.display="none",U.style.display="none",Q.style.display="inline-flex",J.style.display="inline-flex",P.style.display="none",le.style.display="none",Z.style.display="inline-flex",F.style.display="none",z.style.display="none",Y.style.display="none",V.style.display="none",ee.style.display="none"):3===l&&2===e?(K.style.display="none",U.style.display="none",Q.style.display="inline-flex",J.style.display="none",P.style.display="none",le.style.display="none",Z.style.display="inline-flex",F.style.display="inline-flex",z.style.display="none",Y.style.display="inline-flex",V.style.display="none",ee.style.display="none"):3===l&&3===e&&(K.style.display="inline-flex",U.style.display="inline-flex",Q.style.display="none",J.style.display="none",P.style.display="none",le.style.display="none",Z.style.display="none",F.style.display="inline-flex",z.style.display="none",Y.style.display="none",V.style.display="none",ee.style.display="none"),4===l&&1===e?(K.style.display="none",U.style.display="none",Q.style.display="inline-flex",J.style.display="inline-flex",P.style.display="none",le.style.display="none",Z.style.display="inline-flex",F.style.display="none",z.style.display="inline-flex",Y.style.display="none",V.style.display="none",ee.style.display="none"):4===l&&2===e?(Y.style.display="inline-flex",K.style.display="none",U.style.display="none",Q.style.display="inline-flex",J.style.display="inline-flex",z.style.display="none",P.style.display="none",le.style.display="none",Z.style.display="inline-flex",F.style.display="inline-flex",V.style.display="none",ee.style.display="none"):4===l&&3===e?(Y.style.display="none",K.style.display="inline-flex",U.style.display="inline-flex",Q.style.display="inline-flex",J.style.display="none",z.style.display="none",P.style.display="none",le.style.display="none",Z.style.display="inline-flex",F.style.display="inline-flex",V.style.display="none",ee.style.display="none"):4===l&&4===e&&(Y.style.display="inline-flex",K.style.display="inline-flex",U.style.display="inline-flex",Q.style.display="none",J.style.display="none",z.style.display="none",P.style.display="none",le.style.display="none",Z.style.display="none",F.style.display="inline-flex",V.style.display="none",ee.style.display="none"),5===l&&1===e?(Y.style.display="none",K.style.display="none",U.style.display="none",Q.style.display="inline-flex",J.style.display="inline-flex",z.style.display="inline-flex",P.style.display="none",le.style.display="none",Z.style.display="inline-flex",F.style.display="none",V.style.display="none",ee.style.display="inline-flex",ee.innerHTML=`<p>${e+3}</p>`):5===l&&2===e?(Y.style.display="inline-flex",K.style.display="none",U.style.display="none",Q.style.display="inline-flex",J.style.display="inline-flex",z.style.display="inline-flex",P.style.display="none",le.style.display="none",Z.style.display="inline-flex",F.style.display="inline-flex",V.style.display="none",ee.style.display="none"):5===l&&3===e?(Y.style.display="none",K.style.display="inline-flex",U.style.display="inline-flex",Q.style.display="inline-flex",J.style.display="inline-flex",z.style.display="none",P.style.display="none",le.style.display="none",Z.style.display="inline-flex",F.style.display="inline-flex",V.style.display="none",ee.style.display="none"):5===l&&4===e?(Y.style.display="inline-flex",K.style.display="inline-flex",U.style.display="inline-flex",Q.style.display="inline-flex",J.style.display="none",z.style.display="none",P.style.display="none",le.style.display="none",Z.style.display="inline-flex",F.style.display="inline-flex",V.style.display="none",ee.style.display="none"):5===l&&5===e&&(Y.style.display="inline-flex",K.style.display="inline-flex",U.style.display="inline-flex",Q.style.display="none",J.style.display="none",z.style.display="none",P.style.display="none",le.style.display="none",Z.style.display="none",F.style.display="inline-flex",ee.style.display="none",V.style.display="inline-flex",V.innerHTML=`<p>${e-3}</p>`),6===l&&1===e?(Y.style.display="none",K.style.display="none",U.style.display="none",Q.style.display="inline-flex",J.style.display="inline-flex",z.style.display="inline-flex",P.style.display="none",le.style.display="inline-flex",Z.style.display="inline-flex",F.style.display="none",V.style.display="none",ee.style.display="none"):6===l&&2===e?(Y.style.display="inline-flex",K.style.display="none",U.style.display="none",Q.style.display="inline-flex",J.style.display="inline-flex",z.style.display="inline-flex",P.style.display="none",le.style.display="none",Z.style.display="inline-flex",F.style.display="inline-flex",ee.style.display="inline-flex",V.style.display="none",ee.innerHTML=`<p>${e+3}</p>`):6===l&&3===e?(Y.style.display="inline-flex",K.style.display="none",U.style.display="inline-flex",Q.style.display="inline-flex",J.style.display="inline-flex",z.style.display="inline-flex",P.style.display="none",le.style.display="none",Z.style.display="inline-flex",F.style.display="inline-flex",V.style.display="none",ee.style.display="none"):6===l&&4===e?(Y.style.display="inline-flex",K.style.display="inline-flex",U.style.display="inline-flex",Q.style.display="inline-flex",J.style.display="inline-flex",z.style.display="none",P.style.display="none",le.style.display="none",Z.style.display="inline-flex",F.style.display="inline-flex",V.style.display="none",ee.style.display="none"):6===l&&5===e?(Y.style.display="inline-flex",K.style.display="inline-flex",U.style.display="inline-flex",Q.style.display="inline-flex",J.style.display="none",z.style.display="none",P.style.display="none",le.style.display="none",Z.style.display="inline-flex",F.style.display="inline-flex",ee.style.display="none",V.style.display="inline-flex",V.innerHTML=`<p>${e-3}</p>`):6===l&&6===e&&(Y.style.display="inline-flex",K.style.display="inline-flex",U.style.display="inline-flex",Q.style.display="none",J.style.display="none",z.style.display="none",P.style.display="inline-flex",le.style.display="none",Z.style.display="none",F.style.display="inline-flex",V.style.display="none",ee.style.display="none"),7===l&&1===e?(Y.style.display="none",K.style.display="none",U.style.display="none",Q.style.display="inline-flex",J.style.display="inline-flex",z.style.display="inline-flex",P.style.display="none",le.style.display="inline-flex",Z.style.display="inline-flex",F.style.display="none",V.style.display="none",ee.style.display="none"):7===l&&2===e?(Y.style.display="inline-flex",K.style.display="none",U.style.display="none",Q.style.display="inline-flex",J.style.display="inline-flex",z.style.display="inline-flex",P.style.display="none",le.style.display="inline-flex",Z.style.display="inline-flex",F.style.display="inline-flex",V.style.display="none",ee.style.display="none"):7===l&&3===e?(Y.style.display="inline-flex",K.style.display="none",U.style.display="inline-flex",Q.style.display="inline-flex",J.style.display="inline-flex",z.style.display="inline-flex",P.style.display="none",le.style.display="none",Z.style.display="inline-flex",F.style.display="inline-flex",ee.style.display="inline-flex",V.style.display="none",ee.innerHTML=`<p>${e+3}</p>`):7===l&&4===e?(Y.style.display="inline-flex",K.style.display="inline-flex",U.style.display="inline-flex",Q.style.display="inline-flex",J.style.display="inline-flex",z.style.display="inline-flex",P.style.display="none",le.style.display="none",Z.style.display="inline-flex",F.style.display="inline-flex",V.style.display="none",ee.style.display="none"):7===l&&5===e?(Y.style.display="inline-flex",K.style.display="inline-flex",U.style.display="inline-flex",Q.style.display="inline-flex",J.style.display="inline-flex",z.style.display="none",P.style.display="inline-flex",le.style.display="none",Z.style.display="inline-flex",F.style.display="inline-flex",V.style.display="none",ee.style.display="none"):7===l&&6===e?(Y.style.display="inline-flex",K.style.display="inline-flex",U.style.display="inline-flex",Q.style.display="inline-flex",J.style.display="none",z.style.display="none",P.style.display="inline-flex",le.style.display="none",Z.style.display="inline-flex",F.style.display="inline-flex",V.style.display="none",ee.style.display="none"):7===l&&7===e&&(Y.style.display="inline-flex",K.style.display="inline-flex",U.style.display="inline-flex",Q.style.display="none",J.style.display="none",z.style.display="none",P.style.display="inline-flex",le.style.display="none",Z.style.display="none",F.style.display="inline-flex",V.style.display="none",ee.style.display="none"),n}const de=(e,l)=>{ye=e,te=l,ne.innerHTML=ae(e,l),X.innerHTML=l};async function pe(e){(0,I.default)();let l=null;l=ie.query?await ie.moviesBySearch(e):await ie.popularMovies(e);let n=l.results;n=l.results,(0,W.default)(D.STORAGE_KEY_MOVIES,n),de(e,l.total_pages),se.innerHTML=await C(n)}function oe(){ye++,pe(ye)}function re(){ye--,pe(ye)}function fe(){Z.style.display="inline-flex",F.style.display="inline-flex",Y.style.display="inline-flex",z.style.display="inline-flex"}pe(ye),Z.addEventListener("click",oe),F.addEventListener("click",re),Y.addEventListener("click",(function(){ye=1,pe(ye)})),z.addEventListener("click",(function(){ye=te,pe(te)})),U.addEventListener("click",re),K.addEventListener("click",(function(){ye-=2,pe(ye)})),Q.addEventListener("click",oe),J.addEventListener("click",(function(){ye+=2,pe(ye)}));D=s("8G1wF");const ce={errorEl:document.querySelector(".error")};function ue(e){ce.errorEl.textContent=e,ce.errorEl.classList.remove("visually-hidden"),setTimeout((()=>{ce.errorEl.classList.add("visually-hidden")}),2e3)}const xe={searchForm:document.querySelector("#search-form"),gallery:document.querySelector(".gallery"),input:document.querySelector(".search_input")};xe.searchForm.addEventListener("submit",(async function(e){e.preventDefault(),xe.gallery.innerHTML="";const l=e.currentTarget.elements.searchQuery.value.trim();if(""===l)return ue("Please, enter your search query."),void pe(1);ve.query=l;try{const e=await ve.moviesBySearch(),l=e.results;if(0===l.length)return ue("Search result is not successful. Enter the correct movie name."),void pe(1);de(e.page,e.total_pages),B(l),(0,W.default)(D.STORAGE_KEY_MOVIES,l)}catch(e){console.log(e)}}));const ve=new(0,G.default);xe.input.addEventListener("input",e(y)((function(){if(""===xe.input.value.trim())return pe(1),void ue("Please, enter your search query.")}),D.DEBOUNCE_DELAY)),s("6HA5D"),s("gjiCh"),s("glGLq"),s("bTcpz"),s("2Ea8k"),s("cbBSt"),s("8MDAD"),s("m4NlG"),s("gjiCh"),s("1koGM"),s("glGLq"),s("bTcpz");D=s("8G1wF");var Te=s("cbBSt"),ge=s("8MDAD");s("1koGM");const $e={addToWatch:document.querySelector("#watchedModalBtn"),addToQueue:document.querySelector("#queueModalBtn")};$e.addToWatch.addEventListener("click",(function(e){$e.addToWatch.classList.add("is-active__Btn"),console.dir(e.currentTarget),me=(0,Te.default)(D.STORAGE_KEY_MOVIE),Le=(0,ge.default)(D.STORAGE_KEY_MOVIES,me),void(Me.includes(l)?(console.log("уже есть в просмотренных"),$e.addToWatch.textContent="Remove from watched"):(console.log("нет такого в просмотренных"),$e.addToWatch.textContent="Add to watched",console.log(me),Me.push(me),localStorage.setItem("arrayAddToWatch",JSON.stringify(Me)),console.log(Me),$e.addToWatch.textContent="Remove from watched")),"Remove from watched"===$e.addToWatch.textContent&&function(){const e=Me.indexOf(me);Me.slice(e,1),localStorage.setItem("arrayAddToWatch",JSON.stringify(Me))}();var l}));(0,Te.default)(D.STORAGE_KEY_MOVIES);let me="",Le="",Me=[];null!==localStorage.getItem("arrayAddToWatch")&&(Me=localStorage.getItem("arrayAddToWatch"),Me=JSON.parse(Me)),console.log(Me);
//# sourceMappingURL=index.85b17aa4.js.map
